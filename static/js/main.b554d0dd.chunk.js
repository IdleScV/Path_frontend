(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{116:function(e,t,a){e.exports=a(149)},121:function(e,t,a){},122:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),i=(a(121),a(9)),o=a(37),u=a(4),s=(a(122),a(181)),m=a(182),d=a(183),f=a(184),E=a(105),b=a(190),p=a(89),v=a.n(p),h=r.a.createContext(null),g=function(e){return function(t){return r.a.createElement(h.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},j=h,O=a(21),y=a(69),C=a.n(y),S=(a(123),a(125),{apiKey:"AIzaSyAMzjFxpZFjYDuTWlhKlv-GaAiXyFqF0do",authDomain:"mod5-timeline.firebaseapp.com",databaseURL:"https://mod5-timeline.firebaseio.com",projectId:"mod5-timeline",storageBucket:"mod5-timeline.appspot.com",messagingSenderId:"246229182004",appId:"1:246229182004:web:3ff8c57c55db525b204c61",measurementId:"G-5D69TSH040"}),N=function e(){var t=this;Object(O.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},C.a.initializeApp(S),this.auth=C.a.auth(),this.db=C.a.database()},w=a(177),k=g((function(e){var t=e.firebase;return r.a.createElement(w.a,{onClick:t.doSignOut},"Sign Out")})),T=r.a.createContext(null),P=a(24),x=a(27),I=a(26),A=function(e){var t=function(t){Object(x.a)(n,t);var a=Object(I.a)(n);function n(e){var t;return Object(O.a)(this,n),(t=a.call(this,e)).state={authUser:null},t}return Object(P.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(T.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),n}(r.a.Component);return g(t)},D=a(47),R="/Path_frontend/signup",U="/Path_frontend/signin",M="/Path_frontend/",_=function(e){return function(t){var a=function(a){Object(x.a)(l,a);var n=Object(I.a)(l);function l(){return Object(O.a)(this,l),n.apply(this,arguments)}return Object(P.a)(l,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||t.props.history.push(U)}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(T.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),l}(r.a.Component);return Object(D.a)(o.g,g)(a)}},W="https://immense-savannah-15383.herokuapp.com/",L="/Path_frontend/",B="/Path_frontend/timelines",F="/Path_frontend/timeline/:id",H="/Path_frontend/profile",z="/Path_frontend/create",J="/Path_frontend/timeline/",G=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));var Y=function(e){var t=G(),a=r.a.useState(null),n=Object(u.a)(a,2),l=n[0],c=n[1],s=function(){c(null)};return r.a.createElement("div",{className:t.root+" navbar"},r.a.createElement(m.a,{position:"static"},r.a.createElement(d.a,{variant:"dense"},r.a.createElement(f.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){c(e.currentTarget)}},r.a.createElement(v.a,null)),r.a.createElement(T.Consumer,null,(function(e){return e?r.a.createElement(E.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:s,className:"menu-dropdown"},r.a.createElement(b.a,{onClick:s},r.a.createElement(i.b,{to:L},"Home")),r.a.createElement(b.a,{onClick:s},r.a.createElement(i.b,{to:B},"Timelines")),r.a.createElement(b.a,{onClick:s},r.a.createElement(i.b,{to:H},"Profile")),r.a.createElement(b.a,{onClick:s},r.a.createElement(i.b,{to:z},"Create")),r.a.createElement(b.a,null,r.a.createElement(k,null))):r.a.createElement(E.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:s,className:"menu-dropdown"},r.a.createElement(b.a,{onClick:s},r.a.createElement(i.b,{to:L},"Home")),r.a.createElement(b.a,{onClick:s},r.a.createElement(i.b,{to:B},"Timelines")),r.a.createElement(b.a,null,r.a.createElement(i.b,{to:U},"Sign In")),r.a.createElement(b.a,null,r.a.createElement(i.b,{to:R},"Sign Up")))})),r.a.createElement("div",{className:"title"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:L},"HOME"),r.a.createElement(o.a,{exact:!0,path:B},"BROWSE"),r.a.createElement(o.a,{exact:!0,path:H},"PROFILE"),r.a.createElement(o.a,{path:F},"TIMELINE"),r.a.createElement(o.a,{exact:!0,path:z},"CREATE"))))))};a(134);var K=function(e){return r.a.createElement("div",{className:"homepage"},r.a.createElement("h1",{className:"title"},"PATH"),r.a.createElement("img",{className:"gif",src:"https://cdn.dribbble.com/users/1539152/screenshots/3296884/timeline.gif",alt:"timelinegif"}),r.a.createElement("div",{className:"text"},r.a.createElement(T.Consumer,null,(function(e){return e?r.a.createElement("div",null,r.a.createElement("h2",null,"You're Logged in with ",e.email)):r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(i.b,{to:R},"Create an Account ")," or"," ",r.a.createElement(i.b,{to:U},"Signin")," to View & Create your own"," ",r.a.createElement(i.b,{to:B},"Timelines"),"!"))}))))},V=a(187),q=a(189),X=a(64);a(135);var Z=function(e){return r.a.createElement("form",{className:"countryRegion"},r.a.createElement(q.a,{id:"country",label:"Country",value:e.country,select:!0,disabled:!!e.specs&&"World"===e.specs,onChange:function(t){return e.handleCountry(t.target.value)}},X.a.map((function(e,t){return r.a.createElement(b.a,{key:e[0],value:e},e[0])}))),r.a.createElement("br",null),r.a.createElement(q.a,{id:"region",label:"Region",value:e.region,select:!0,disabled:!!e.specs&&("Country"===e.specs||"World"===e.specs),onChange:function(t){e.handleRegion(t.target.value)}},(t=e.country,t?t[2].split("|").map((function(e){var t=e.split("~");return Object(u.a)(t,1)[0]})):[]).map((function(e,t){return r.a.createElement(b.a,{key:e,value:e},e)}))));var t},$=(a(136),"0000-00-00");var Q=_((function(e){return!!e}))((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)($),f=Object(u.a)(d,2),E=f[0],b=f[1],p=Object(n.useState)(""),v=Object(u.a)(p,2),h=v[0],g=v[1],j=Object(n.useState)([]),O=Object(u.a)(j,2),y=O[0],C=O[1],S=Object(n.useState)(""),N=Object(u.a)(S,2),k=N[0],T=N[1],P=Object(n.useState)(""),x=Object(u.a)(P,2),I=x[0],A=x[1],D=Object(n.useState)(""),R=Object(u.a)(D,2),U=R[0],M=R[1];return Object(n.useEffect)((function(){return e.firebase.user(e.firebase.auth.W).once("value",(function(e){C(e.val())})),function(){e.firebase.user(e.firebase.auth.W).off()}}),[e.firebase]),r.a.createElement("div",{className:"newTimeline"},r.a.createElement("h2",null,"Make a New Timeline"),r.a.createElement("h4",null,"guest@gmail.com"===y.email?"As a guest, your timelines can't be published":null),r.a.createElement(V.a,null,r.a.createElement("div",{className:"text"},r.a.createElement(q.a,{label:"Title",name:"title",variant:"outlined",className:"input",value:l,onChange:function(e){c(e.target.value)}}),r.a.createElement(q.a,{label:"Person",name:"person",variant:"outlined",className:"input",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement(q.a,{label:"Picture (image URL)",name:"image URL",variant:"outlined",type:"url",className:"input",value:U,onChange:function(e){M(e.target.value)}}),r.a.createElement("div",{className:"date-field"},r.a.createElement(q.a,{id:"date",type:"date",value:E,className:"input date",helperText:"Birthday",InputLabelProps:{shrink:!0},onChange:function(e){b(e.target.value)}}),r.a.createElement(q.a,{id:"date",name:"deathday",type:"date",value:h,className:"input date",helperText:"End date (optional)",InputLabelProps:{shrink:!0},onChange:function(e){g(e.target.value)}}))),r.a.createElement("div",{className:"location"},r.a.createElement("h5",null,"Birth Place"),r.a.createElement(Z,{handleCountry:T,handleRegion:A,country:k,region:I})),r.a.createElement(w.a,{onClick:function(){var t={title:l,person:s,birthday:E,deathday:h,firebase_id:e.firebase.auth.W,username:y.username,country:k[0],region:I,imageURL:U};fetch(W+"timelines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){return e.history.push("timeline/".concat(t.id))}))},disabled:""===l||""===s||E===$||""===I,variant:"contained",color:"primary"},"Submit")))}));a(137);var ee=function(e){var t=e.data,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],o=l[1],s=t.title,m=t.id,d=t.person.name,f=t.picture;return r.a.createElement("div",{className:"timeline-card-frame"},r.a.createElement(i.b,{to:J+m,style:{textDecoration:"none"},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.a.createElement("div",{className:"text"},r.a.createElement("h3",null,s),r.a.createElement("h5",null,d)),r.a.createElement("div",{className:"timeline-card ".concat(c?"slowzoom":null),style:{backgroundImage:"url(".concat(f,")")}})))};a(138);var te=function(e){var t=e.handleCloseForm,a=e.timelineId,l=e.timelineData,c=e.replaceTimelineData,i=Object(n.useState)(l.title),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(l.person.name),f=Object(u.a)(d,2),E=f[0],p=f[1],v=Object(n.useState)(l.person.birthday),h=Object(u.a)(v,2),g=h[0],j=h[1],O=Object(n.useState)(l.person.deathday),y=Object(u.a)(O,2),C=y[0],S=y[1],N=Object(n.useState)(""),k=Object(u.a)(N,2),T=k[0],P=k[1],x=Object(n.useState)(""),I=Object(u.a)(x,2),A=I[0],D=I[1],R=Object(n.useState)(l.picture),U=Object(u.a)(R,2),M=U[0],_=U[1];return r.a.createElement("div",{className:"newTimeline editTimeline"},r.a.createElement(V.a,{className:"edit"},r.a.createElement("h3",null,"Edit Timeline"),r.a.createElement("div",{className:"text"},r.a.createElement(q.a,{label:"Title",name:"title",variant:"outlined",className:"input",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement(q.a,{label:"Person",name:"person",variant:"outlined",className:"input",value:E,onChange:function(e){p(e.target.value)}}),r.a.createElement(q.a,{label:"image URL",name:"image URL",variant:"outlined",type:"url",className:"input",value:M,onChange:function(e){_(e.target.value)}}),r.a.createElement("div",{className:"date-field"},r.a.createElement(q.a,{id:"date",type:"date",value:g,className:"input date",helperText:"Birthday",InputLabelProps:{shrink:!0},onChange:function(e){j(e.target.value)}}),r.a.createElement(q.a,{id:"date",name:"deathday",type:"date",value:C||"",className:"input date",helperText:"End date (optional)",InputLabelProps:{shrink:!0},onChange:function(e){S(e.target.value)}}))),r.a.createElement("div",{className:"location"},r.a.createElement("h5",null,"Birth Place"),r.a.createElement("form",{className:"countryRegion"},r.a.createElement(q.a,{id:"country",label:"Country",value:T||l.person.city.country.name,select:!0,placeholder:l.person.city.country.name,onChange:function(e){return P(e.target.value)}},r.a.createElement(b.a,{value:l.person.city.country.name,disabled:!0},l.person.city.country.name),X.a.map((function(e,t){return r.a.createElement(b.a,{key:e[0],value:e},e[0])}))),r.a.createElement("br",null),r.a.createElement(q.a,{id:"region",label:"Region",value:A||l.person.city.name,select:!0,placeholder:l.person.city.name,onChange:function(e){D(e.target.value)}},r.a.createElement(b.a,{value:l.person.city.name,disabled:!0},l.person.city.name),function(e){return e?e[2].split("|").map((function(e){var t=e.split("~");return Object(u.a)(t,1)[0]})):[]}(T).map((function(e,t){return r.a.createElement(b.a,{key:e,value:e},e)}))))),r.a.createElement("div",null,r.a.createElement(w.a,{style:{margin:"5px"},onClick:function(){var e={title:s,birthday:g,deathday:C,person:E,country:T?T[0]:l.person.city.country.name,region:A||l.person.city.name,imgURL:M};console.log("Payload",e),fetch(W+"timelines/"+a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return c(e)}),t())},disabled:""===s||""===E||"0000-00-00"===g,variant:"contained",color:"primary"},"Submit"),r.a.createElement(w.a,{style:{margin:"5px"},onClick:t,variant:"contained",color:"secondary"},"Cancel"))))};function ae(e,t){var a=Object(n.useState)(null),r=Object(u.a)(a,2),l=r[0],c=r[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)(!1),f=Object(u.a)(d,2),E=f[0],b=f[1];return Object(n.useEffect)((function(){m(!0),fetch(e,t).then((function(e){return e.json()})).then((function(e){c(e),m(!1)})).catch((function(){b(!0),m(!1)}))}),[e,t]),[l,s,E]}a(139);var ne=a(43),re=a.n(ne);var le=function(e){var t=e.handleCloseForm,a=e.timelineId,n=e.replaceTimelineData,l=ae(W+"timelines/"+a),c=Object(u.a)(l,3),i=c[0],o=c[1],s=c[2],m=function(e){t(),n(e)},d=function(e){if("publish"===e){var t={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"done"})};fetch(W+"timelines/"+a,t).then((function(e){return e.json()})).then((function(e){return m(e)}))}else if("unpublish"===e){var n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"edit"})};fetch(W+"timelines/"+a,n).then((function(e){return e.json()})).then((function(e){return m(e)}))}};return r.a.createElement("div",{className:"publish-timeline"},i?"edit"===i.status?r.a.createElement("div",null,r.a.createElement("h3",null,"This Timeline is currently Private"),r.a.createElement(w.a,{onClick:function(){return d("publish")},variant:"contained",color:"primary"},"Publish"),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"secondary"},r.a.createElement(re.a,null))):"done"===i.status?r.a.createElement("div",null,r.a.createElement("h3",null,"This Timeline is currently Public"),r.a.createElement(w.a,{onClick:function(){return d("unpublish")},variant:"contained",color:"primary"},"Un-Publish"),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"secondary"},r.a.createElement(re.a,null))):o?r.a.createElement("div",null,"Loading"):s?r.a.createElement("div",null,"Has Error"):null:null)},ce=a(90),ie=a.n(ce),oe=a(91),ue=a.n(oe),se=a(92),me=a.n(se);a(140);var de=function(e){var t=e.handleCloseForm,a=e.timelineId,l=e.removeTimeline,c=Object(n.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),f=d[0],E=d[1];return r.a.createElement("div",{className:"delete-timeline"},o?r.a.createElement("div",{className:"confirmation"},r.a.createElement(q.a,{id:"standard-basic",value:f,label:"type... 'Burn it'",variant:"outlined",onChange:function(e){return E(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(w.a,{onClick:function(){"Burn it"===f?fetch(W+"/timelines/"+a,{method:"DELETE"}).then(l(a),t()):t()},variant:"contained",color:"secondary"},r.a.createElement(ie.a,null)),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"primary"},r.a.createElement(re.a,null))):r.a.createElement("div",null,r.a.createElement("div",{className:"text"},"Are you sure you want to delete this timeline?"),r.a.createElement("div",null,r.a.createElement(w.a,{onClick:function(){s(!0)},variant:"contained",color:"primary"},r.a.createElement(ue.a,null)),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"secondary"},r.a.createElement(me.a,null)))))},fe=(a(141),a(66)),Ee=a.n(fe),be=a(67),pe=a.n(be),ve=a(93),he=a.n(ve),ge=a(95),je=a.n(ge),Oe=a(94),ye=a.n(Oe);var Ce=_((function(e){return!!e}))((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),b=E[0],p=E[1],v=Object(n.useState)(null),h=Object(u.a)(v,2),g=h[0],j=h[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),C=y[0],S=y[1],N=Object(n.useState)(null),k=Object(u.a)(N,2),T=k[0],P=k[1];Object(n.useEffect)((function(){return e.firebase.user(e.firebase.auth.W).once("value",(function(e){c(e.val())})),fetch(W+"user_timelines/"+e.firebase.auth.W).then((function(e){return e.json()})).then((function(e){return d(e)})),function(){e.firebase.user(e.firebase.auth.W).off()}}),[e.firebase]);var x=function(){p(!1)},I=function(e){d(m.map((function(t){return t.id===e.id?e:t})))};return r.a.createElement("div",{className:"profile-page"},m.message?r.a.createElement(Q,null):m?r.a.createElement("div",{className:"timeline-info"},r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("div",null,"My Timelines "),r.a.createElement(i.b,{to:"/create"},r.a.createElement(he.a,null))),b?r.a.createElement("div",{className:"edit-form"},r.a.createElement("div",null,"edit"===g?r.a.createElement(te,{handleCloseForm:x,timelineId:C,timelineData:T,replaceTimelineData:I}):"publish"===g?r.a.createElement(le,{handleCloseForm:x,timelineId:C,replaceTimelineData:I}):r.a.createElement(de,{handleCloseForm:x,timelineId:C,removeTimeline:function(e){d(m.filter((function(t){return t.id!==e})))}}))):null,r.a.createElement("div",{className:"timeline-container"},m?m.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(ee,{data:e}),r.a.createElement("div",{className:"buttons"},r.a.createElement(w.a,{size:"small",className:"edit",variant:"contained",disabled:b,onClick:function(){!function(e,t){P(t),S(e),j("edit"),p(!0)}(e.id,e)}},r.a.createElement(Ee.a,null)),r.a.createElement(w.a,{size:"small",className:"edit",variant:"contained",color:"primary",disabled:b||"guest@gmail.com"===l.email,onClick:function(){return t=e.id,S(t),j("publish"),void p(!0);var t}},"edit"===e.status?r.a.createElement(ye.a,null):r.a.createElement(je.a,null)),r.a.createElement(w.a,{size:"small",className:"edit",variant:"contained",color:"secondary",disabled:b,onClick:function(){return t=e.id,S(t),j("delete"),void p(!0);var t}},r.a.createElement(pe.a,null))))})):null))):r.a.createElement("div",null,"Loading"),r.a.createElement("div",{className:"user-info"},r.a.createElement("h2",null,"My Info"),r.a.createElement("div",null,"USERNAME: ",l.username),r.a.createElement("div",null,"EMAIL: ",l.email)))}));a(142);var Se=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch(W+"timelines").then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),r.a.createElement("div",{className:"browse-timeliens-page"},r.a.createElement("div",{className:"all-timelines-container"},a?a.map((function(e,t){return r.a.createElement(ee,{data:e,key:t})})):null))},Ne=a(106),we=a(20);var ke=function(e){var t=e.event_data,a=e.index,l=e.currentAge,c=e.ageRange,i=e.xAdjustment,o=e.filters,s=e.selectedEventSet,m=e.showDetailBoxSet,d=Object(n.useState)(!1),f=Object(u.a)(d,2),E=f[0],b=f[1],p=Object(n.useState)("left"),v=Object(u.a)(p,2),h=v[0],g=v[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),y=O[0],C=O[1],S=t.instance_type,N=t.scale,w=t.snippet,k=[S,N];return Object(n.useEffect)((function(){g(a%2===0?"left":"right")}),[a]),Object(n.useEffect)((function(){C(function(){var e="";return e=l>c[0]||l<c[1]?(l-c[0])/(c[1]-c[0])*100:"",Math.floor(e)+"%"}())}),[c,o,l]),r.a.createElement("div",{className:"event-box ".concat(h," "),id:E?"selected":"",onClick:function(){b(!E),s(t),m(!0)},style:{top:y}},"right"===h?r.a.createElement("div",{className:"event-line ".concat(h),style:{}},"".concat(i>0?"-".repeat(i/16):"")):r.a.createElement("div",{className:"event-line ".concat(h),style:{}},"".concat(i>0?"-".repeat((i-15)/15.8):"")),r.a.createElement("div",{className:"event-labels"},r.a.createElement("div",{className:"snippet-box"},w.length>30?w.substring(0,30)+"...":w),r.a.createElement("div",{className:"event-right-label"},r.a.createElement("div",{className:"current-age"},"age ",Math.floor(l)),r.a.createElement("div",{className:"label-types"},k.map((function(e,t){return r.a.createElement("div",{className:"badge-item",key:t,style:{color:"black"}},e[0])}))))))};var Te=function(e){var t=e.response;return r.a.createElement("div",null,r.a.createElement("h1",null,t?t.status:null," ERROR"),r.a.createElement(i.b,{to:"/"},"Home"))},Pe=a(188),xe=a(97),Ie=a.n(xe),Ae=a(96),De=a.n(Ae);a(143);var Re=function(e){var t=e.maker_id,a=e.firebase_id,l=e.events,c=e.eventDataSet,i=e.eventData,o=e.timelineId,s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)(""),p=Object(u.a)(E,2),v=p[0],h=p[1],g=Object(n.useState)(""),j=Object(u.a)(g,2),O=j[0],y=j[1],C=Object(n.useState)("Scale"),S=Object(u.a)(C,2),N=S[0],k=S[1],T=Object(n.useState)("Type"),P=Object(u.a)(T,2),x=P[0],I=P[1],A=Object(n.useState)("00-00-0000"),D=Object(u.a)(A,2),R=D[0],U=D[1],M=Object(n.useState)(""),_=Object(u.a)(M,2),L=_[0],B=_[1],F=Object(n.useState)(""),H=Object(u.a)(F,2),z=H[0],J=H[1],G=Object(n.useState)(""),Y=Object(u.a)(G,2),K=Y[0],X=Y[1],$=function(){return f(!1),h(""),y(""),k("Scale"),I("Type"),U("00-00-0000"),B(""),J(""),X("")};return t!==a?r.a.createElement("div",null):d?r.a.createElement("div",{className:"add-event-page"},r.a.createElement(w.a,{color:"primary",onClick:function(){f(!1)}},r.a.createElement(De.a,null)),r.a.createElement("div",{className:"add-event-form"},r.a.createElement(V.a,null,r.a.createElement("div",null,"Add an Event"),r.a.createElement(q.a,{label:"Title",name:"snippet",variant:"outlined",value:v,onChange:function(e){h(e.target.value)}}),r.a.createElement("div",{className:"type"},r.a.createElement(V.a,null,r.a.createElement(Pe.a,{label:"Scale",value:N,onChange:function(e){return k(e.target.value)}},r.a.createElement(b.a,{"aria-label":"None",disabled:!0,value:"Scale"},"Scale"),r.a.createElement(b.a,{value:"Major"},"Major"),r.a.createElement(b.a,{value:"Minor"},"Minor"))),r.a.createElement(V.a,null,r.a.createElement(Pe.a,{label:"Type",value:x,onChange:function(e){return I(e.target.value)}},r.a.createElement(b.a,{"aria-label":"None",disabled:!0,value:"Type"},"Type"),r.a.createElement(b.a,{value:"Personal"},"Personal"),r.a.createElement(b.a,{value:"World"},"World"),r.a.createElement(b.a,{value:"Country"},"Country"),r.a.createElement(b.a,{value:"Region"},"Region"))),r.a.createElement(q.a,{id:"date",type:"date",value:R,onChange:function(e){U(e.target.value)}})),r.a.createElement(Z,{handleCountry:B,handleRegion:J,country:L,region:z,specs:x}),r.a.createElement(q.a,{className:"details",label:"Details",name:"details",variant:"outlined",multiline:!0,rows:4,value:O,onChange:function(e){y(e.target.value)}}),r.a.createElement(q.a,{label:"picture location URL (optional)",id:"picLink",type:"link",value:K,onChange:function(e){X(e.target.value)}}),r.a.createElement(w.a,{onClick:function(){var e={firebase_id:a,snippet:v,details:O,scale:N,type:x,country:L,region:z,date:R,imageUrl:K,timeline_id:o};fetch(W+"events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return c(i.concat(e))}),$())},disabled:!v||"Scale"===N||"Type"===x||!O||"00-00-0000"===R},"Add")))):r.a.createElement("div",{className:"add-event-page"},r.a.createElement(w.a,{color:"primary",onClick:function(){f(!0),i||c(l)}},r.a.createElement(Ie.a,null)))};a(144);var Ue=function(e){var t=e.event_data,a=(e.firebase_id,e.updateEventData),l=e.showEditBoxSet,c=(e.showDetailBoxSet,t.date),i=t.details,o=t.imageText,s=t.imageUrl,m=t.snippet,d=Object(n.useState)(i),f=Object(u.a)(d,2),E=f[0],b=f[1],p=Object(n.useState)(m),v=Object(u.a)(p,2),h=v[0],g=v[1],j=Object(n.useState)(s),O=Object(u.a)(j,2),y=O[0],C=O[1],S=Object(n.useState)(o),N=Object(u.a)(S,2),k=N[0],T=N[1],P=Object(n.useState)(c),x=Object(u.a)(P,2),I=x[0],A=x[1];return r.a.createElement("div",{className:"edit-event"},r.a.createElement(V.a,{className:"form"},r.a.createElement("h4",null,"Edit Event"),r.a.createElement(q.a,{label:"Snippet",name:"snippet",variant:"outlined",className:"input",value:h,onChange:function(e){g(e.target.value)}}),r.a.createElement(q.a,{label:"Details",name:"details",variant:"outlined",multiline:!0,className:"input",value:E,onChange:function(e){b(e.target.value)}}),r.a.createElement(q.a,{label:"Image URL",name:"imageUrl",variant:"outlined",className:"input",value:y,onChange:function(e){C(e.target.value)}}),r.a.createElement(q.a,{label:"Image Text",name:"imageText",variant:"outlined",className:"input",value:k||"",onChange:function(e){T(e.target.value)}}),r.a.createElement(q.a,{label:"Date",name:"date",type:"date",variant:"outlined",className:"date",value:I,onChange:function(e){A(e.target.value)}}),r.a.createElement("div",{className:"buttons"},r.a.createElement(w.a,{variant:"contained",className:"submit",color:"primary",onClick:function(){var e={details:E,snippet:h,imageUrl:y,imageText:k,date:I};fetch(W+"events/"+t.id,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return a(e)}),l(!1))}},"Submit"),r.a.createElement(w.a,{variant:"contained",className:"submit",color:"secondary",onClick:function(){return l(!1)}},r.a.createElement(re.a,null)))))},Me=a(192),_e=(a(145),a(98)),We=a.n(_e),Le=a(101),Be=a.n(Le),Fe=a(100),He=a.n(Fe),ze=a(99),Je=a.n(ze),Ge=a(102),Ye=a.n(Ge),Ke=a(103),Ve=a.n(Ke),qe=Object(s.a)((function(e){return{margin:{margin:e.spacing(.5)}}}));var Xe=_((function(e){return!!e}))((function(e){var t,a=new Date,l=Object(o.f)(),c=ae(W+"timelines/"+e.match.params.id),i=Object(u.a)(c,3),s=i[0],m=i[1],d=i[2],f=Object(n.useState)([]),E=Object(u.a)(f,2),b=E[0],p=E[1],v=Object(n.useState)([0,null]),h=Object(u.a)(v,2),g=h[0],j=h[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),C=y[0],S=y[1],N=Object(n.useState)(null),k=Object(u.a)(N,2),T=k[0],P=k[1],x=Object(n.useState)(!1),I=Object(u.a)(x,2),A=I[0],D=I[1],R=Object(n.useState)(!1),U=Object(u.a)(R,2),M=U[0],_=U[1],L=Object(n.useState)(!1),B=Object(u.a)(L,2),F=B[0],H=B[1],z=Object(n.useState)(!1),J=Object(u.a)(z,2),G=J[0],Y=J[1],K=qe(),V=Object(n.useRef)(),q=function(e,t){var a=Object(n.useState)({width:0,height:0}),r=Object(u.a)(a,2),l=r[0],c=r[1];return Object(n.useEffect)((function(){var t=function(){return{width:e.current.offsetWidth,height:e.current.offsetHeight}},a=function(){c(t())};return e.current&&c(t()),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[e,t]),l}(V,m).width;if(m)return r.a.createElement("div",{ref:V},"Loading");if(d)return r.a.createElement("div",{ref:V},"Has Error");if(!1!==s&&null!==s&&404!==s.status){var X=s.title,Z=s.person,$=s.events,Q=s.user,ee=s.id,te=Q.username,ne=Z.birthday,re=Z.deathday,le=function(e){var t=e.currentTarget.name;"Major"===t&&b.includes("Minor")?p(b.filter((function(e){return"Minor"!==e})).concat(t)):"Minor"===t&&b.includes("Major")?p(b.filter((function(e){return"Major"!==e})).concat(t)):b.includes(t)?p(b.filter((function(e){return e!==t}))):p(b.concat(t))},ce=function(e){return e.split("-")[0]},ie=function(e){return ce(e.date)-ce(ne)},oe=function(){return ce(re)-ce(ne)},ue=function(){return a.getFullYear()-ce(ne)},se=function(){for(var e="",t=(e=g[1]?g[1]-g[0]:re?oe()-g[0]:ue()-g[0])/10,a=[],n=1;n<10;n++)a.push(t*n);var r=a.map((function(e){return Math.floor(e+parseInt(ce(ne))+g[0]).toString()})),l=Object(Ne.a)(new Set(r));return e>=10||l.shift(),l},me=function(e){fetch(W+"ets/"+ee,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e})}).then((function(e){return e.json()})).then((function(t){return a=e,void S(C?C.filter((function(e){return e.id!==a})):$.filter((function(e){return e.id!==a})));var a}),D(!1))};return r.a.createElement("div",{className:"timeline-component",ref:V},r.a.createElement("div",{className:"header"},r.a.createElement(w.a,{color:"primary",onClick:function(){return l.goBack()}},r.a.createElement(We.a,null)),r.a.createElement("h2",{className:"title"},X," : ",Z.name),r.a.createElement("div",{className:"header-item"},r.a.createElement(Re,{maker_id:Q.firebase_id,firebase_id:e.firebase.auth.W,events:$,eventData:C,eventDataSet:S,timelineId:ee}),r.a.createElement("div",{className:"author"},"Made by: ",te))),r.a.createElement("div",{className:"filters"},[{name:"Major",color:"secondary"},{name:"Minor",color:"secondary"},{name:"Personal",color:"primary"},{name:"World",color:"primary"},{name:"Country",color:"primary"},{name:"City",color:"primary"}].map((function(e,t){return r.a.createElement(w.a,{className:"".concat(e.name," ").concat(K.margin),name:e.name,color:e.color,size:"small",variant:b.includes(e.name)?"outlined":"contained",onClick:le,key:t},e.name)})),r.a.createElement(Me.a,{defaultValue:[0,re?oe():ue()],value:g[1]?g:re?[0,oe()]:[0,ue()],onChange:function(e,t){t[1]-t[0]>=1&&t!==g&&j(t)},"aria-labelledby":"range-slider",step:1,min:0,max:re?oe():ue(),valueLabelDisplay:"auto"})),A?r.a.createElement("div",{className:"description-box"},r.a.createElement("div",{className:"header"},r.a.createElement(w.a,{onClick:function(){Y(!G)}},G?r.a.createElement(Je.a,null):r.a.createElement(He.a,null)),r.a.createElement("h3",null,T.snippet),r.a.createElement(w.a,null,r.a.createElement(Be.a,{onClick:function(){D(!1),Y(!1)}}))),r.a.createElement("div",{className:"text"},T.details),T.imageUrl?r.a.createElement("div",null,r.a.createElement("img",{className:"detail-image",src:T.imageUrl,alt:T.imageText?T.imageText:""}),T.imageText?r.a.createElement("p",{className:"image-details"},T.imageText):null):null,M?r.a.createElement(Ue,{event_data:T,firebase_id:e.firebase.auth.W,updateEventData:function(e){S(C?C.map((function(t){return t.id===e.id?e:t})):$.map((function(t){return t.id===e.id?e:t}))),P(e)},showEditBoxSet:_,showDetailBoxSet:D}):null,e.firebase.auth.W===Q.firebase_id?r.a.createElement("div",{className:"edit-button"},r.a.createElement(w.a,{onClick:function(){_(!0)}},r.a.createElement(Ee.a,null)),r.a.createElement(w.a,{onClick:function(){return H(!0)}},r.a.createElement(pe.a,null)),F?r.a.createElement("div",null,r.a.createElement("div",null,"Are you Sure?"),r.a.createElement(w.a,{onClick:function(){me(T.id),H(!1)}},r.a.createElement(Ye.a,null)),r.a.createElement(w.a,{onClick:function(){H(!1)}},r.a.createElement(Ve.a,null))):null):null,r.a.createElement("div",{className:"date"},T.date)):null,r.a.createElement("div",{className:"timeline-box"},r.a.createElement("div",{className:"birth year"},parseInt(ce(ne))+g[0]),r.a.createElement("div",{className:"events"},r.a.createElement("div",{className:"timeline-line"},se()?se().map((function(e,t){return r.a.createElement("div",{className:"timeline-markers",key:t},"".concat(e))})):r.a.createElement("div",{className:"timeline-markers"},"Halfway")),r.a.createElement("div",{className:"event-container"},function(e){return g[1]?e.filter((function(e){return ie(e)>=g[0]&&ie(e)<=g[1]})):e}(function(e){for(var t=e,a=function(e){t=t.filter((function(t){return![t.instance_type,t.scale].includes(b[e])}))},n=0;n<b.length;n++)a(n);return t}((t=C||$,t.sort((function(e,t){return ce(e.date)>ce(t.date)})).map((function(e,t){return Object(we.a)({},e,{sortedOrder:t})}))))).map((function(e,t){return r.a.createElement(ke,{event_data:e,key:t,index:t,currentAge:ce(e.date)-ce(ne)+(a=e.date,a.split("-")[1]/12+a.split("-")[2]/365),birthyear:ce(ne),ageRange:g[1]?g:re?[0,oe()]:[0,ue()],xAdjustment:q-665,filters:b,selectedEventSet:P,showDetailBoxSet:D,birthday:ne});var a})))),r.a.createElement("div",{className:"death year"},parseInt(ce(ne))+(g[1]?g[1]:re?oe():ue()))))}return r.a.createElement(Te,{response:s})})),Ze=a(32),$e=(a(146),{username:"",email:"",passwordOne:"",passwordTwo:"",firebaseID:"",error:null}),Qe=function(e){Object(x.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.username,r=t.email,l=t.passwordOne;n.props.firebase.doCreateUserWithEmailAndPassword(r,l).then((function(e){return n.props.firebase.user(e.user.uid).set({username:a,email:r})})).then((function(){n.setState(Object(we.a)({},$e)),n.props.history.push(M)})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Ze.a)({},e.target.name,e.target.value))},n.state=Object(we.a)({},$e),n}return Object(P.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,c=e.error,i=n!==l||""===n||""===a||""===t;return r.a.createElement("div",{className:"signuppage"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"signup"},r.a.createElement(q.a,{className:"textinput",id:"standard-basic",label:"Username",name:"username",value:t,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(q.a,{className:"textinput",id:"standard-basic",label:"Email",name:"email",value:a,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(q.a,{className:"textinput",id:"standard-basic",label:"Password",name:"passwordOne",value:n,onChange:this.onChange,type:"password"}),r.a.createElement("br",null),r.a.createElement(q.a,{className:"textinput",id:"standard-basic",label:"Confirm Password",name:"passwordTwo",value:l,onChange:this.onChange,type:"password"}),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",disabled:i},"Sign Up"),c&&r.a.createElement("p",null,c.message)))}}]),a}(n.Component),et=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(i.b,{to:R},"Sign Up"))},tt=Object(D.a)(o.g,g)(Qe),at=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Sign Up Form"),r.a.createElement(tt,null))},nt={email:"",error:null},rt=function(e){Object(x.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then((function(){n.setState(Object(we.a)({},nt))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Ze.a)({},e.target.name,e.target.value))},n.state=Object(we.a)({},nt),n}return Object(P.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),a}(n.Component),lt=function(){return r.a.createElement("p",null,r.a.createElement(i.b,{to:"/Path_frontend/pw-forget"},"Forgot Password?"))},ct=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(it,null))},it=g(rt),ot=(a(147),{email:"",password:"",error:null}),ut=function(e){Object(x.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then((function(){n.setState(Object(we.a)({},ot)),n.props.history.push(M)})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Ze.a)({},e.target.name,e.target.value))},n.guestSignIn=function(e){n.props.firebase.doSignInWithEmailAndPassword("guest@gmail.com","123456").then((function(){n.setState(Object(we.a)({},ot)),n.props.history.push(M)})).catch((function(e){n.setState({error:e})}))},n.state=Object(we.a)({},ot),n}return Object(P.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement("div",{className:"signinpage"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"signin"},r.a.createElement(q.a,{className:"textinput",id:"standard-basic",label:"Email",name:"email",value:t,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(q.a,{className:"textinput",id:"standard-basic",label:"Password",name:"password",value:a,onChange:this.onChange,type:"password"}),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons"},r.a.createElement(w.a,{type:"submit",variant:"contained",color:l?"default":"primary"},"Sign In"),r.a.createElement(w.a,{onClick:this.guestSignIn,variant:"contained"},"Guest Login")),n?r.a.createElement("p",null,n.message):null),r.a.createElement("div",{className:"xtralinks"},r.a.createElement("br",null),r.a.createElement(lt,null),r.a.createElement("br",null),r.a.createElement(et,null)))}}]),a}(r.a.Component),st=Object(D.a)(o.g,g)(ut),mt=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Sign In Form"),r.a.createElement(st,null))},dt={passwordOne:"",passwordTwo:"",error:null},ft=function(e){Object(x.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.passwordOne;n.props.firebase.doPasswordUpdate(t).then((function(){n.setState(Object(we.a)({},dt))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Ze.a)({},e.target.name,e.target.value))},n.state=Object(we.a)({},dt),n}return Object(P.a)(a,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),Et=g(ft),bt=_((function(e){return!!e}))((function(e){return console.log(e.firebase.W),r.a.createElement(T.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(it,null),r.a.createElement(Et,null))}))})),pt=A((function(){return r.a.createElement("div",null,r.a.createElement(o.a,{exact:!0,path:R,component:at}),r.a.createElement(o.a,{exact:!0,path:U,component:mt}),r.a.createElement(o.a,{exact:!0,path:"/Path_frontend/pw-forget",component:ct}),r.a.createElement(o.a,{exact:!0,path:"/Path_frontend/account",component:bt}))}));a(148);var vt=A((function(e){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Y,null)),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:L,component:K}),r.a.createElement(o.a,{exact:!0,path:B,component:Se}),r.a.createElement(o.a,{exact:!0,path:H,component:Ce}),r.a.createElement(o.a,{path:F,component:Xe}),r.a.createElement(o.a,{exact:!0,path:z,component:Q}),r.a.createElement(pt,null)))})),ht=a(68),gt=Object(ht.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),jt=gt.actions,Ot=(jt.increment,jt.decrement,jt.incrementByAmount,gt.reducer),yt=Object(ht.a)({reducer:{counter:Ot}}),Ct=a(104);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j.Provider,{value:new N},r.a.createElement(Ct.a,{store:yt},r.a.createElement(vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.b554d0dd.chunk.js.map