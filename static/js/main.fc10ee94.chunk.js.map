{"version":3,"sources":["authentication/Firebase/context.js","authentication/Firebase/firebase.js","authentication/Firebase/index.js","authentication/SignOut/index.js","authentication/Session/context.js","authentication/Session/withAuthentication.js","constants/routes.js","authentication/Session/withAuthorization.js","urlEnv/index.js","components/Navbar/Navbar.component.jsx","Pages/HomePage/HomePage.component.jsx","components/Forms/Selector/CountryRegionMUISelectors.component.js","components/Forms/NewTimeline/NewTimeline.component.jsx","components/Containers/Cards/TimelineCard.component.jsx","components/Forms/EditTimeline/EditTimeline.component.jsx","hooks/useFetch.js","components/Forms/PublishTimeline/PublishTimeline.component.jsx","components/Forms/DeleteTimeline/DeleteTimeline.component.jsx","components/Profile/Profile.component.jsx","components/Containers/AllTimelinesContainer.component.jsx","components/ErrorPage/ErrorPage.component.jsx","components/Forms/NewEvent/NewEventButton.js","components/Forms/EditEvent/EditEvent.component.jsx","components/Timeline/Timeline.component.jsx","hooks/windowSize.js","authentication/SignUp/index.js","authentication/PasswordForget/index.js","authentication/SignIn/index.js","authentication/PasswordChange/index.js","authentication/Account/index.js","authentication/Main/Authentication.component.js","App.js","features/counter/counterSlice.js","app/store.js","serviceWorker.js","index.js"],"names":["FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","user","uid","db","ref","users","app","initializeApp","this","database","Button","onClick","AuthUserContext","withAuthentication","WithAuthentication","state","authUser","listener","onAuthStateChanged","setState","Provider","value","SIGN_UP","SIGN_IN","HOME","withAuthorization","condition","WithAuthorization","history","push","ROUTES","compose","withRouter","URL","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","Navbar","classes","useState","anchorEl","setAnchorEl","handleClose","className","AppBar","position","Toolbar","variant","IconButton","edge","color","aria-label","event","currentTarget","Menu","id","keepMounted","open","Boolean","onClose","MenuItem","to","SignOut","AUTHROUTES","exact","path","HomePage","src","CountryRegionMUISelectors","TextField","label","country","select","disabled","specs","onChange","e","handleCountry","target","CountryRegionData","map","option","index","key","region","handleRegion","split","regionPair","regionName","initialState","title","titleSet","person","personSet","birthday","birthdaySet","deathday","deathdaySet","userData","userDataSet","countrySet","regionSet","imageURL","imageURLSet","useEffect","W","once","snapshot","val","off","FormControl","name","type","helperText","InputLabelProps","shrink","payload","firebase_id","username","fetch","method","headers","body","JSON","stringify","then","response","json","timeline","TimelineCard","data","detail","detailSet","picture","style","textDecoration","onMouseEnter","onMouseLeave","backgroundImage","EditTimeline","handleCloseForm","timelineId","timelineData","replaceTimelineData","imgURL","imgURLSet","city","placeholder","getRegions","margin","console","log","useFetch","url","opts","setResponse","loading","setLoading","hasError","setHasError","catch","PublishTimeline","handleSubmit","string","status","DeleteTimeline","removeTimeline","confirm","confirmSet","textConfirm","textConfirmSet","timelines","timelinesSet","showEdit","showEditSet","editType","editTypeSet","chosenId","chosenIdSet","timelineDataSet","obj","message","filter","i","size","handleEdit","AllTimelineContainer","ErrorPage","NewEventButton","maker_id","events","eventDataSet","eventData","showForm","showFormSet","snippet","snippetSet","details","detailsSet","scale","scaleSet","typeSet","eventDate","eventDateSet","picLink","picLinkSet","resetForm","Select","multiline","rows","date","imageUrl","timeline_id","concat","EditEvent","event_data","updateEventData","showEditBoxSet","showDetailBoxSet","imageText","user_id","Fdetails","FdetailsSet","Fsnippet","FsnippetSet","FimageUrl","FimageUrlSet","FimageText","FimageTextSet","Fdate","FdateSet","d","Date","useHistory","match","params","filters","filtersSet","ageRange","ageRangeSet","selectedEvent","selectedEventSet","showDetailBox","showEditBox","deleteConfirm","deleteConfirmSet","like","likeSet","inlineStyles","componentRef","useRef","myRef","width","height","dimensions","setDimensions","getDimensions","current","offsetWidth","offsetHeight","handleResize","window","addEventListener","removeEventListener","useResize","person_id","processFilterClick","includes","item","findYear","num_string","currentAge","deathAge","currentAgeToDate","getFullYear","lineMarkers","distance","eqDistance","arr","markers","num","Math","floor","parseInt","toString","uniqueMarkers","Set","shift","handleDelete","event_id","eventId","res","goBack","button","Slider","defaultValue","newValue","aria-labelledby","step","min","max","valueLabelDisplay","alt","marker","filterEventsByAge","instance_type","length","filterEventsByCategory","sort","a","b","sortedOrder","INITIAL_STATE","passwordOne","passwordTwo","firebaseID","error","SignUpFormBase","onSubmit","set","preventDefault","isInvalid","SignUpLink","SignUpForm","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","guestSignIn","SignInForm","SignInPage","PasswordChangeForm","PasswordChange","component","AccountPage","AllTimelinesContainer","Profile","Timeline","NewTimeline","counterSlice","createSlice","reducers","increment","decrement","incrementByAmount","action","actions","configureStore","reducer","counter","counterReducer","location","hostname","ReactDOM","render","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"+pBAEMA,EAAkBC,IAAMC,cAAc,MAE/BC,EAAe,SAACC,GAAD,OAAe,SAACC,GAAD,OAC1C,kBAACL,EAAgBM,SAAjB,MAA2B,SAACC,GAAD,OAAc,kBAACH,EAAD,iBAAeC,EAAf,CAAsBE,SAAUA,UAG3DP,I,yBCFTQ,G,cAAiB,CACtBC,OAAQ,0CACRC,WAAY,gCACZC,YAAa,uCACbC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBCXDC,EDed,aAAe,IAAD,gCASdC,iCAAmC,SAACC,EAAOC,GAAR,OAAqB,EAAKC,KAAKC,+BAA+BH,EAAOC,IAT1F,KAWdG,6BAA+B,SAACJ,EAAOC,GAAR,OAAqB,EAAKC,KAAKG,2BAA2BL,EAAOC,IAXlF,KAadK,UAAY,kBAAM,EAAKJ,KAAKK,WAbd,KAedC,gBAAkB,SAACR,GAAD,OAAW,EAAKE,KAAKO,uBAAuBT,IAfhD,KAiBdU,iBAAmB,SAACT,GAAD,OAAc,EAAKC,KAAKS,YAAYC,eAAeX,IAjBxD,KAmBdY,KAAO,SAACC,GAAD,OAAS,EAAKC,GAAGC,IAAR,gBAAqBF,KAnBvB,KAoBdG,MAAQ,kBAAM,EAAKF,GAAGC,IAAI,UAnBzBE,IAAIC,cAAc9B,GAElB+B,KAAKlB,KAAOgB,IAAIhB,OAChBkB,KAAKL,GAAKG,IAAIG,Y,SEfDrC,KAFO,SAAC,GAAD,IAAGI,EAAH,EAAGA,SAAH,OAAkB,kBAACkC,EAAA,EAAD,CAAQC,QAASnC,EAASkB,WAA1B,eCDzBkB,EAFS1C,IAAMC,cAAc,M,wBCmC7B0C,EAhCY,SAACxC,GAAe,IACpCyC,EADmC,kDAExC,WAAYxC,GAAQ,IAAD,8BAClB,cAAMA,IAEDyC,MAAQ,CACZC,SAAU,MAJO,EAFqB,gEAUnB,IAAD,OACnBR,KAAKS,SAAWT,KAAKlC,MAAME,SAASc,KAAK4B,oBAAmB,SAACF,GAC5DA,EAAW,EAAKG,SAAS,CAAEH,aAAc,EAAKG,SAAS,CAAEH,SAAU,YAZ7B,6CAiBvCR,KAAKS,aAjBkC,+BAqBvC,OACC,kBAAC,EAAgBG,SAAjB,CAA0BC,MAAOb,KAAKO,MAAMC,UAC3C,kBAAC3C,EAAcmC,KAAKlC,YAvBiB,GACRJ,IAAMG,WA4BvC,OAAOD,EAAa0C,I,QClCRQ,EAAU,wBACVC,EAAU,wBAGVC,EAAO,kBC8BLC,EA1BW,SAACC,GAAD,OAAe,SAACrD,GAAe,IAClDsD,EADiD,kLAEjC,IAAD,OACnBnB,KAAKS,SAAWT,KAAKlC,MAAME,SAASc,KAAK4B,oBAAmB,SAACF,GACvDU,EAAUV,IACd,EAAK1C,MAAMsD,QAAQC,KAAKC,QAL2B,6CAWrDtB,KAAKS,aAXgD,+BAc5C,IAAD,OACR,OACC,kBAAC,EAAgB1C,SAAjB,MACE,SAACyC,GAAD,OAAeU,EAAUV,GAAY,kBAAC3C,EAAc,EAAKC,OAAY,YAjBnB,GACvBJ,IAAMG,WAsBtC,OAAO0D,YAAQC,IAAY5D,EAApB2D,CAAkCJ,KC/B7BM,EAAM,yBAENH,EACN,kBADMA,EAED,2BAFCA,EAGF,8BAHEA,EAIH,yBAJGA,EAKJ,wBALIA,EAMA,2BCUPI,EAAYC,aAAW,SAACC,GAAD,MAAY,CACxCC,KAAM,CACLC,SAAU,GAEXC,WAAY,CACXC,YAAaJ,EAAMK,QAAQ,QA0GdC,MAtGf,SAAgBpE,GACf,IAAMqE,EAAUT,IADM,EAGYhE,IAAM0E,SAAS,MAH3B,mBAGdC,EAHc,KAGJC,EAHI,KAShBC,EAAc,WACnBD,EAAY,OAGb,OACC,yBAAKE,UAAWL,EAAQN,KAAO,WAC9B,kBAACY,EAAA,EAAD,CAAQC,SAAS,UAChB,kBAACC,EAAA,EAAD,CAASC,QAAQ,SAChB,kBAACC,EAAA,EAAD,CACCC,KAAK,QACLN,UAAWL,EAAQJ,WACnBgB,MAAM,UACNC,aAAW,OACX7C,QAjBe,SAAC8C,GACpBX,EAAYW,EAAMC,iBAkBd,kBAAC,IAAD,OAGD,kBAAC,EAAgBnF,SAAjB,MACE,SAACyC,GAAD,OACAA,EACC,kBAAC2C,EAAA,EAAD,CACCC,GAAG,cACHf,SAAUA,EACVgB,aAAW,EACXC,KAAMC,QAAQlB,GACdmB,QAASjB,EACTC,UAAU,iBAEV,kBAACiB,EAAA,EAAD,CAAUtD,QAASoC,GAClB,kBAAC,IAAD,CAAMmB,GAAIpC,GAAV,SAED,kBAACmC,EAAA,EAAD,CAAUtD,QAASoC,GAClB,kBAAC,IAAD,CAAMmB,GAAIpC,GAAV,cAED,kBAACmC,EAAA,EAAD,CAAUtD,QAASoC,GAClB,kBAAC,IAAD,CAAMmB,GAAIpC,GAAV,YAED,kBAACmC,EAAA,EAAD,CAAUtD,QAASoC,GAClB,kBAAC,IAAD,CAAMmB,GAAIpC,GAAV,WAED,kBAACmC,EAAA,EAAD,KACC,kBAACE,EAAD,QAIF,kBAACR,EAAA,EAAD,CACCC,GAAG,cACHf,SAAUA,EACVgB,aAAW,EACXC,KAAMC,QAAQlB,GACdmB,QAASjB,EACTC,UAAU,iBAEV,kBAACiB,EAAA,EAAD,CAAUtD,QAASoC,GAClB,kBAAC,IAAD,CAAMmB,GAAIpC,GAAV,SAED,kBAACmC,EAAA,EAAD,CAAUtD,QAASoC,GAClB,kBAAC,IAAD,CAAMmB,GAAIpC,GAAV,cAGD,kBAACmC,EAAA,EAAD,KACC,kBAAC,IAAD,CAAMC,GAAIE,GAAV,YAED,kBAACH,EAAA,EAAD,KACC,kBAAC,IAAD,CAAMC,GAAIE,GAAV,gBAKL,yBAAKpB,UAAU,SACd,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOqB,OAAK,EAACC,KAAMxC,GAAnB,QAGA,kBAAC,IAAD,CAAOuC,OAAK,EAACC,KAAMxC,GAAnB,UAGA,kBAAC,IAAD,CAAOuC,OAAK,EAACC,KAAMxC,GAAnB,WAGA,kBAAC,IAAD,CAAOwC,KAAMxC,GAAb,YACA,kBAAC,IAAD,CAAOuC,OAAK,EAACC,KAAMxC,GAAnB,gB,OCnFQyC,MA3Bf,SAAkBjG,GACjB,OACC,yBAAK0E,UAAU,YACd,wBAAIA,UAAU,SAAd,QACA,yBAAKA,UAAU,MAAMwB,IAAI,4EACzB,yBAAKxB,UAAU,QACd,kBAAC,EAAgBzE,SAAjB,MACE,SAACyC,GAAD,OACAA,EACC,6BACC,qDAA2BA,EAAS5B,QAGrC,6BACC,4BACC,kBAAC,IAAD,CAAM8E,GAAIE,GAAV,sBADD,MAC4D,IAC3D,kBAAC,IAAD,CAAMF,GAAIE,GAAV,UAFD,6BAEuE,IACtE,kBAAC,IAAD,CAAMF,GAAIpC,GAAV,aAHD,Y,iCCkCO2C,MAtCf,SAAmCnG,GAClC,OACC,0BAAM0E,UAAU,iBACf,kBAAC0B,EAAA,EAAD,CACCd,GAAG,UACHe,MAAM,UACNtD,MAAO/C,EAAMsG,QACbC,QAAM,EACNC,WAAUxG,EAAMyG,OAAwB,UAAhBzG,EAAMyG,MAC9BC,SAAU,SAACC,GAAD,OAAO3G,EAAM4G,cAAcD,EAAEE,OAAO9D,SAE7C+D,IAAkBC,KAAI,SAACC,EAAQC,GAAT,OACtB,kBAACtB,EAAA,EAAD,CAAUuB,IAAKF,EAAO,GAAIjE,MAAOiE,GAC/BA,EAAO,QAIX,6BACA,kBAACZ,EAAA,EAAD,CACCd,GAAG,SACHe,MAAM,SACNtD,MAAO/C,EAAMmH,OACbZ,QAAM,EACNC,WAAUxG,EAAMyG,QAAwB,YAAhBzG,EAAMyG,OAAuC,UAAhBzG,EAAMyG,OAC3DC,SAAU,SAACC,GACV3G,EAAMoH,aAAaT,EAAEE,OAAO9D,UAnCbuD,EAsCJtG,EAAMsG,QArChBA,EAGEA,EAAQ,GAAGe,MAAM,KAAKN,KAAI,SAACO,GAAgB,IAAD,EACHA,EAAWD,MAAM,KADd,mBAC1CE,EAD0C,KAEhD,OAFgD,KAEzCA,KAJA,IAoCsBR,KAAI,SAACC,EAAQC,GAAT,OAC9B,kBAACtB,EAAA,EAAD,CAAUuB,IAAKF,EAAQjE,MAAOiE,GAC5BA,QAxCY,IAACV,GCAdkB,G,OACK,cA4IX,IAEerE,KAFO,SAACT,GAAD,QAAgBA,IAEvBS,EA3If,SAAqBnD,GAAQ,IAAD,EACCsE,mBAAS,IADV,mBACnBmD,EADmB,KACZC,EADY,OAEGpD,mBAAS,IAFZ,mBAEnBqD,EAFmB,KAEXC,EAFW,OAGOtD,mBAASkD,GAHhB,mBAGnBK,EAHmB,KAGTC,EAHS,OAIOxD,mBAAS,IAJhB,mBAInByD,EAJmB,KAITC,EAJS,OAKO1D,mBAAS,IALhB,mBAKnB2D,EALmB,KAKTC,EALS,OAMK5D,mBAAS,IANd,mBAMnBgC,EANmB,KAMV6B,EANU,OAOG7D,mBAAS,IAPZ,mBAOnB6C,EAPmB,KAOXiB,EAPW,OAQO9D,mBAAS,IARhB,mBAQnB+D,EARmB,KAQTC,EARS,KAgD3B,OAtCAC,qBACC,WAQC,OANCvI,EAAME,SAASyB,KAAK3B,EAAME,SAASc,KAAKwH,GAAGC,KAAK,SAAS,SAACC,GACzDR,EAAYQ,EAASC,UAKhB,WACN3I,EAAME,SAASyB,KAAK3B,EAAME,SAASc,KAAKwH,GAAGI,SAG7C,CAAE5I,EAAME,WA0BR,yBAAKwE,UAAU,eACd,mDACA,4BAAwB,oBAAnBuD,EAASnH,MAA8B,gDAAkD,MAC9F,kBAAC+H,EAAA,EAAD,KACC,yBAAKnE,UAAU,QACd,kBAAC0B,EAAA,EAAD,CACCC,MAAM,QACNyC,KAAK,QACLhE,QAAQ,WACRJ,UAAU,QACV3B,MAAO0E,EACPf,SAAU,SAACC,GACVe,EAASf,EAAEE,OAAO9D,UAGpB,kBAACqD,EAAA,EAAD,CACCC,MAAM,SACNyC,KAAK,SACLhE,QAAQ,WACRJ,UAAU,QACV3B,MAAO4E,EACPjB,SAAU,SAACC,GACViB,EAAUjB,EAAEE,OAAO9D,UAGrB,kBAACqD,EAAA,EAAD,CACCC,MAAM,sBACNyC,KAAK,YACLhE,QAAQ,WACRiE,KAAK,MACLrE,UAAU,QACV3B,MAAOsF,EACP3B,SAAU,SAACC,GACV2B,EAAY3B,EAAEE,OAAO9D,UAGvB,yBAAK2B,UAAU,cACd,kBAAC0B,EAAA,EAAD,CACCd,GAAG,OACHyD,KAAK,OACLhG,MAAO8E,EACPnD,UAAU,aACVsE,WAAW,WACXC,gBAAiB,CAChBC,QAAQ,GAETxC,SAAU,SAACC,GACVmB,EAAYnB,EAAEE,OAAO9D,UAGvB,kBAACqD,EAAA,EAAD,CACCd,GAAG,OACHwD,KAAK,WACLC,KAAK,OACLhG,MAAOgF,EACPrD,UAAU,aACVsE,WAAW,uBACXC,gBAAiB,CAChBC,QAAQ,GAETxC,SAAU,SAACC,GACVqB,EAAYrB,EAAEE,OAAO9D,YAKzB,yBAAK2B,UAAU,YACd,2CACA,kBAAC,EAAD,CACCkC,cAAeuB,EACff,aAAcgB,EACd9B,QAASA,EACTa,OAAQA,KAGV,kBAAC/E,EAAA,EAAD,CACCC,QAnGiB,WACpB,IAAI8G,EAAU,CACb1B,MAAOA,EACPE,OAAQA,EACRE,SAAUA,EACVE,SAAUA,EACVqB,YAAapJ,EAAME,SAASc,KAAKwH,EACjCa,SAAUpB,EAASoB,SACnB/C,QAASA,EAAQ,GACjBa,OAAQA,EACRkB,SAAUA,GAGXiB,MAAM3F,EAAM,YAAa,CACxB4F,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUR,KAEpBS,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GAAD,OAAc/J,EAAMsD,QAAQC,KAAd,mBAA+BwG,EAASzE,SAiF1DkB,SAAoB,KAAViB,GAA2B,KAAXE,GAAiBE,IAAaL,GAAoC,KAAXL,EACjFrC,QAAQ,YACRG,MAAM,WAJP,e,OCvGW+E,OAzBf,YAAiC,IAATC,EAAQ,EAARA,KAAQ,EACD3F,oBAAS,GADR,mBACvB4F,EADuB,KACfC,EADe,KAEvB1C,EAA8EwC,EAA9ExC,MAAOnC,EAAuE2E,EAAvE3E,GAAoBqC,EAAmDsC,EAAnEtC,OAAUmB,KAA6CsB,GAAYH,EAAzCtI,KAAQ0H,SAAiCY,EAAZG,SAE1E,OACC,yBAAK1F,UAAU,uBACd,kBAAC,IAAD,CACCkB,GAAIpC,EAAoB8B,EACxB+E,MAAO,CAAEC,eAAgB,QACzBC,aAAc,kBAAMJ,GAAU,IAC9BK,aAAc,kBAAML,GAAU,KAE9B,yBAAKzF,UAAU,QACd,4BAAK+C,GACL,4BAAKE,IAEN,yBACCjD,UAAS,wBAAmBwF,EAAS,WAAa,MAClDG,MAAO,CAAEI,gBAAgB,OAAD,OAASL,EAAT,W,OCqJdM,OA5Jf,YAA2F,IAAnEC,EAAkE,EAAlEA,gBAAiBC,EAAiD,EAAjDA,WAAYC,EAAqC,EAArCA,aAAcC,EAAuB,EAAvBA,oBAAuB,EAC7DxG,mBAASuG,EAAapD,OADuC,mBACjFA,EADiF,KAC1EC,EAD0E,OAE3DpD,mBAASuG,EAAalD,OAAOmB,MAF8B,mBAEjFnB,EAFiF,KAEzEC,EAFyE,OAGvDtD,mBAASuG,EAAalD,OAAOE,UAH0B,mBAGjFA,EAHiF,KAGvEC,EAHuE,OAIvDxD,mBAASuG,EAAalD,OAAOI,UAJ0B,mBAIjFA,EAJiF,KAIvEC,EAJuE,OAKzD1D,mBAAS,IALgD,mBAKjFgC,EALiF,KAKxE6B,EALwE,OAM3D7D,mBAAS,IANkD,mBAMjF6C,EANiF,KAMzEiB,EANyE,OAO3D9D,mBAASuG,EAAaT,SAPqC,mBAOjFW,EAPiF,KAOzEC,EAPyE,KA4BzF,OACC,yBAAKtG,UAAU,4BACd,kBAACmE,EAAA,EAAD,CAAanE,UAAU,QACtB,6CACA,yBAAKA,UAAU,QACd,kBAAC0B,EAAA,EAAD,CACCC,MAAM,QACNyC,KAAK,QACLhE,QAAQ,WACRJ,UAAU,QACV3B,MAAO0E,EACPf,SAAU,SAACC,GACVe,EAASf,EAAEE,OAAO9D,UAGpB,kBAACqD,EAAA,EAAD,CACCC,MAAM,SACNyC,KAAK,SACLhE,QAAQ,WAERJ,UAAU,QACV3B,MAAO4E,EACPjB,SAAU,SAACC,GACViB,EAAUjB,EAAEE,OAAO9D,UAGrB,kBAACqD,EAAA,EAAD,CACCC,MAAM,YACNyC,KAAK,YACLhE,QAAQ,WACRiE,KAAK,MACLrE,UAAU,QACV3B,MAAOgI,EACPrE,SAAU,SAACC,GACVqE,EAAUrE,EAAEE,OAAO9D,UAGrB,yBAAK2B,UAAU,cACd,kBAAC0B,EAAA,EAAD,CACCd,GAAG,OACHyD,KAAK,OACLhG,MAAO8E,EACPnD,UAAU,aACVsE,WAAW,WACXC,gBAAiB,CAChBC,QAAQ,GAETxC,SAAU,SAACC,GACVmB,EAAYnB,EAAEE,OAAO9D,UAGvB,kBAACqD,EAAA,EAAD,CACCd,GAAG,OACHwD,KAAK,WACLC,KAAK,OACLhG,MAAOgF,GAAsB,GAC7BrD,UAAU,aACVsE,WAAW,uBACXC,gBAAiB,CAChBC,QAAQ,GAETxC,SAAU,SAACC,GACVqB,EAAYrB,EAAEE,OAAO9D,YAKzB,yBAAK2B,UAAU,YACd,2CACA,0BAAMA,UAAU,iBACf,kBAAC0B,EAAA,EAAD,CACCd,GAAG,UACHe,MAAM,UACNtD,MAAOuD,GAAoBuE,EAAalD,OAAOsD,KAAK3E,QAAQwC,KAC5DvC,QAAM,EACN2E,YAAaL,EAAalD,OAAOsD,KAAK3E,QAAQwC,KAC9CpC,SAAU,SAACC,GAAD,OAAOwB,EAAWxB,EAAEE,OAAO9D,SAErC,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO8H,EAAalD,OAAOsD,KAAK3E,QAAQwC,KAAMtC,UAAQ,GAC9DqE,EAAalD,OAAOsD,KAAK3E,QAAQwC,MAElChC,IAAkBC,KAAI,SAACC,EAAQC,GAAT,OACtB,kBAACtB,EAAA,EAAD,CAAUuB,IAAKF,EAAO,GAAIjE,MAAOiE,GAC/BA,EAAO,QAIX,6BACA,kBAACZ,EAAA,EAAD,CACCd,GAAG,SACHe,MAAM,SACNtD,MAAOoE,GAAkB0D,EAAalD,OAAOsD,KAAKnC,KAClDvC,QAAM,EACN2E,YAAaL,EAAalD,OAAOsD,KAAKnC,KACtCpC,SAAU,SAACC,GACVyB,EAAUzB,EAAEE,OAAO9D,SAGpB,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO8H,EAAalD,OAAOsD,KAAKnC,KAAMtC,UAAQ,GACtDqE,EAAalD,OAAOsD,KAAKnC,MAzIf,SAACxC,GACnB,OAAKA,EAGEA,EAAQ,GAAGe,MAAM,KAAKN,KAAI,SAACO,GAAgB,IAAD,EACHA,EAAWD,MAAM,KADd,mBAC1CE,EAD0C,UAEhD,OAAOA,KAJA,GAyID4D,CAAW7E,GAASS,KAAI,SAACC,EAAQC,GAAT,OACxB,kBAACtB,EAAA,EAAD,CAAUuB,IAAKF,EAAQjE,MAAOiE,GAC5BA,SAMN,6BACC,kBAAC5E,EAAA,EAAD,CACCiI,MAAO,CAAEe,OAAQ,OACjB/I,QAnIgB,WACpB,IAAI8G,EAAU,CACb1B,MAAOA,EACPI,SAAUA,EACVE,SAAUA,EACVJ,OAAQA,EACRrB,QAASA,EAAUA,EAAQ,GAAKuE,EAAalD,OAAOsD,KAAK3E,QAAQwC,KACjE3B,OAAQA,GAAkB0D,EAAalD,OAAOsD,KAAKnC,KACnDiC,OAAQA,GAETM,QAAQC,IAAI,UAAWnC,GACvBG,MAAM3F,EAAM,aAAeiH,EAAY,CACtCrB,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUR,KAEpBS,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAUgB,EAAoBhB,KAAOa,MAmHxCnE,SAAoB,KAAViB,GAA2B,KAAXE,GAA8B,eAAbE,EAC3C/C,QAAQ,YACRG,MAAM,WALP,UASA,kBAAC7C,EAAA,EAAD,CAAQiI,MAAO,CAAEe,OAAQ,OAAS/I,QAASsI,EAAiB7F,QAAQ,YAAYG,MAAM,aAAtF,cCrKE,SAASsG,GAASC,EAAKC,GAAO,IAAD,EACDnH,mBAAS,MADR,mBAC3BuF,EAD2B,KACjB6B,EADiB,OAEHpH,oBAAS,GAFN,mBAE3BqH,EAF2B,KAElBC,EAFkB,OAGDtH,oBAAS,GAHR,mBAG3BuH,EAH2B,KAGjBC,EAHiB,KAuBnC,OAlBAvD,qBACC,WACCqD,GAAW,GACXtC,MAAMkC,EAAKC,GACT7B,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAEN4B,EAAY5B,GACZ8B,GAAW,MAEXG,OAAM,WACND,GAAY,GACZF,GAAW,QAGd,CAAEJ,EAAKC,IAGD,CAAE5B,EAAU8B,EAASE,G,+BC6CdG,OAxDf,YAAgF,IAArDrB,EAAoD,EAApDA,gBAAiBC,EAAmC,EAAnCA,WAAYE,EAAuB,EAAvBA,oBAAuB,EACtCS,GAAS5H,EAAM,aAAeiH,GADQ,mBACtEf,EADsE,KAC5D8B,EAD4D,KACnDE,EADmD,KAGxEI,EAAe,SAACC,GACrB,GAAe,YAAXA,EAAsB,CACzB,IAAI3C,EAAS,CACZA,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEwC,OAAQ,UAGhC7C,MAAM3F,EAAM,aAAeiH,EAAYrB,GACrCK,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAWa,IAAmBG,EAAoBhB,WACnD,GAAe,cAAXoC,EAAwB,CAClC,IAAI3C,EAAS,CACZA,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEwC,OAAQ,UAEhC7C,MAAM3F,EAAM,aAAeiH,EAAYrB,GACrCK,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAWa,IAAmBG,EAAoBhB,QAI3D,OACC,yBAAKpF,UAAU,oBACbmF,EAA+B,SAApBA,EAASsC,OACpB,6BACC,kEACA,kBAAC/J,EAAA,EAAD,CAAQC,QAAS,kBAAM4J,EAAa,YAAYnH,QAAQ,YAAYG,MAAM,WAA1E,WAGA,kBAAC7C,EAAA,EAAD,CAAQC,QAASsI,EAAiB7F,QAAQ,YAAYG,MAAM,aAC3D,kBAAC,KAAD,QAGqB,SAApB4E,EAASsC,OACZ,6BACC,iEACA,kBAAC/J,EAAA,EAAD,CAAQC,QAAS,kBAAM4J,EAAa,cAAcnH,QAAQ,YAAYG,MAAM,WAA5E,cAGA,kBAAC7C,EAAA,EAAD,CAAQC,QAASsI,EAAiB7F,QAAQ,YAAYG,MAAM,aAC3D,kBAAC,KAAD,QAGC0G,EACH,wCACGE,EACH,0CACG,KAAO,O,mECACO,OArDf,YAA0E,IAAhDzB,EAA+C,EAA/CA,gBAAiBC,EAA8B,EAA9BA,WAAYyB,EAAkB,EAAlBA,eAAkB,EACxC/H,oBAAS,GAD+B,mBAChEgI,EADgE,KACvDC,EADuD,OAEhCjI,mBAAS,IAFuB,mBAEhEkI,EAFgE,KAEnDC,EAFmD,OAG5CnI,mBAAS,qBAHmC,mBAkBxE,OAlBwE,UAmBvE,yBAAKI,UAAU,mBACb4H,EACA,yBAAK5H,UAAU,gBACd,kBAAC0B,EAAA,EAAD,CACCd,GAAG,iBACHvC,MAAOyJ,EACPnG,MAAM,oBACNvB,QAAQ,WACR4B,SAAU,SAACC,GAAD,OAAO8F,EAAe9F,EAAEE,OAAO9D,UAE1C,6BACA,kBAACX,EAAA,EAAD,CAAQC,QA1BS,WACA,YAAhBmK,EACHlD,MAAM3F,EAAM,cAAgBiH,EAAY,CACvCrB,OAAQ,WACNK,KAAKyC,EAAezB,GAAaD,KAEpCA,KAoBiC7F,QAAQ,YAAYG,MAAM,aACxD,kBAAC,KAAD,OAED,kBAAC7C,EAAA,EAAD,CAAQC,QAASsI,EAAiB7F,QAAQ,YAAYG,MAAM,WAC3D,kBAAC,KAAD,QAIF,6BACC,yBAAKP,UAAU,QAAf,kDACA,6BACC,kBAACtC,EAAA,EAAD,CAAQC,QA3Bc,WAC1BkK,GAAW,IA0B8BzH,QAAQ,YAAYG,MAAM,WAC9D,kBAAC,KAAD,OAED,kBAAC7C,EAAA,EAAD,CAAQC,QAASsI,EAAiB7F,QAAQ,YAAYG,MAAM,aAC3D,kBAAC,KAAD,W,6GCkIP,IACe9B,MADO,SAACT,GAAD,QAAgBA,IACvBS,EAlKf,SAAiBnD,GAAQ,IAAD,EACWsE,mBAAS,IADpB,mBACf2D,EADe,KACLC,EADK,OAEa5D,mBAAS,IAFtB,mBAEfoI,EAFe,KAEJC,EAFI,OAGWrI,oBAAS,GAHpB,mBAGfsI,EAHe,KAGLC,EAHK,OAIWvI,mBAAS,MAJpB,mBAIfwI,EAJe,KAILC,EAJK,OAKWzI,mBAAS,MALpB,mBAKf0I,EALe,KAKLC,EALK,OAMmB3I,mBAAS,MAN5B,mBAMfuG,EANe,KAMDqC,EANC,KAQvB3E,qBACC,WAcC,OAPCvI,EAAME,SAASyB,KAAK3B,EAAME,SAASc,KAAKwH,GAAGC,KAAK,SAAS,SAACC,GACzDR,EAAYQ,EAASC,UANtBW,MAAM3F,EAAM,kBAAoB3D,EAAME,SAASc,KAAKwH,GAClDoB,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAU6C,EAAa7C,MAUxB,WACN9J,EAAME,SAASyB,KAAK3B,EAAME,SAASc,KAAKwH,GAAGI,SAG7C,CAAE5I,EAAME,WAGT,IAmBMyK,EAAkB,WACvBkC,GAAY,IAWP/B,EAAsB,SAACb,GAC5B0C,EAAaD,EAAU3F,KAAI,SAACoG,GAAD,OAAUA,EAAI7H,KAAO2E,EAAK3E,GAAK2E,EAAOkD,OAGlE,OACC,yBAAKzI,UAAU,gBACbgI,EAAUU,QACV,kBAAC,EAAD,MACGV,EACH,yBAAKhI,UAAU,iBACd,6BACC,4BACC,8CACA,kBAAC,IAAD,CAAMkB,GAAG,WACR,kBAAC,KAAD,QAGDgH,EACA,yBAAKlI,UAAU,aACd,6BACe,SAAboI,EACA,kBAAC,GAAD,CACCnC,gBAAiBA,EACjBC,WAAYoC,EACZnC,aAAcA,EACdC,oBAAqBA,IAEN,YAAbgC,EACH,kBAAC,GAAD,CACCnC,gBAAiBA,EACjBC,WAAYoC,EACZlC,oBAAqBA,IAGtB,kBAAC,GAAD,CACCH,gBAAiBA,EACjBC,WAAYoC,EACZX,eA7Ca,SAAC/G,GACvBqH,EACCD,EAAUW,QAAO,SAACF,GACjB,OAAOA,EAAI7H,KAAOA,WA+CZ,KACJ,yBAAKZ,UAAU,sBACbgI,EACAA,EAAU3F,KAAI,SAACgD,EAAUuD,GAAX,OACb,yBAAKpG,IAAKoG,GACT,kBAAC,GAAD,CAAcrD,KAAMF,IACpB,yBAAKrF,UAAU,WACd,kBAACtC,EAAA,EAAD,CACCmL,KAAK,QACL7I,UAAU,OACVI,QAAQ,YACR0B,SAAUoG,EACVvK,QAAS,YArFD,SAACiD,EAAIyE,GACvBmD,EAAgBnD,GAChBkD,EAAY3H,GACZyH,EAAY,QACZF,GAAY,GAkFDW,CAAWzD,EAASzE,GAAIyE,KAGzB,kBAAC,KAAD,OAED,kBAAC3H,EAAA,EAAD,CACCmL,KAAK,QACL7I,UAAU,OACVI,QAAQ,YACRG,MAAM,UACNuB,SAAUoG,GAA+B,oBAAnB3E,EAASnH,MAC/BuB,QAAS,kBA1FGiD,EA0FiByE,EAASzE,GAzFhD2H,EAAY3H,GACZyH,EAAY,gBACZF,GAAY,GAHS,IAACvH,IA4FS,SAApByE,EAASoC,OAAoB,kBAAC,KAAD,MAAwB,kBAAC,KAAD,OAEvD,kBAAC/J,EAAA,EAAD,CACCmL,KAAK,QACL7I,UAAU,OACVI,QAAQ,YACRG,MAAM,YACNuB,SAAUoG,EACVvK,QAAS,kBA9FEiD,EA8FiByE,EAASzE,GA7F/C2H,EAAY3H,GACZyH,EAAY,eACZF,GAAY,GAHQ,IAACvH,IAgGX,kBAAC,KAAD,YAKD,QAKP,wCAED,yBAAKZ,UAAU,aACd,uCACA,0CAAgBuD,EAASoB,UACzB,uCAAapB,EAASnH,Y,OCzJX2M,OAhBf,WAAiC,IAAD,EACKnJ,mBAAS,MADd,mBACvBoI,EADuB,KACZC,EADY,KAO/B,OAJApE,qBAAU,WACTe,MAAM3F,EAAM,aAAaiG,MAAK,SAACC,GAAD,OAAcA,EAASC,UAAQF,MAAK,SAACE,GAAD,OAAU6C,EAAa7C,QACvF,IAGF,yBAAKpF,UAAU,yBACd,yBAAKA,UAAU,2BACbgI,EAAYA,EAAU3F,KAAI,SAACgD,EAAUuD,GAAX,OAAiB,kBAAC,GAAD,CAAcrD,KAAMF,EAAU7C,IAAKoG,OAAS,Q,mBCT7EI,OATf,YAAkC,IAAb7D,EAAY,EAAZA,SACpB,OACC,6BACC,4BAAKA,EAAWA,EAASsC,OAAS,KAAlC,UACA,kBAAC,IAAD,CAAMvG,GAAG,KAAT,U,yDCyKY+H,OAlKf,YAAiG,IAAvEC,EAAsE,EAAtEA,SAAUxE,EAA4D,EAA5DA,YAAayE,EAA+C,EAA/CA,OAAQC,EAAuC,EAAvCA,aAAcC,EAAyB,EAAzBA,UAAWnD,EAAc,EAAdA,WAAc,EAC7DtG,oBAAS,GADoD,mBACvF0J,EADuF,KAC7EC,EAD6E,OAE/D3J,mBAAS,IAFsD,mBAEvF4J,EAFuF,KAE9EC,EAF8E,OAG/D7J,mBAAS,IAHsD,mBAGvF8J,EAHuF,KAG9EC,EAH8E,OAInE/J,mBAAS,SAJ0D,mBAIvFgK,EAJuF,KAIhFC,EAJgF,OAKrEjK,mBAAS,QAL4D,mBAKvFyE,EALuF,KAKjFyF,EALiF,OAM3DlK,mBAAS,cANkD,mBAMvFmK,EANuF,KAM5EC,EAN4E,OAO/DpK,mBAAS,IAPsD,mBAOvFgC,EAPuF,KAO9E6B,EAP8E,OAQjE7D,mBAAS,IARwD,mBAQvF6C,EARuF,KAQ/EiB,EAR+E,OAS/D9D,mBAAS,IATsD,mBASvFqK,EATuF,KAS9EC,EAT8E,KA4CzFC,EAAY,WACjB,OACCZ,GAAY,GACZE,EAAW,IACXE,EAAW,IACXE,EAAS,SACTC,EAAQ,QACRE,EAAa,cACbvG,EAAW,IACXC,EAAU,IACVwG,EAAW,KAIb,OAAIhB,IAAaxE,EACT,8BAEJ4E,EAEF,yBAAKtJ,UAAU,kBACd,kBAACtC,EAAA,EAAD,CAAQ6C,MAAM,UAAU5C,QA9CP,WACnB4L,GAAY,KA8CT,kBAAC,KAAD,OAED,yBAAKvJ,UAAU,kBACd,kBAACmE,EAAA,EAAD,KACC,6CACA,kBAACzC,EAAA,EAAD,CACCC,MAAM,QACNyC,KAAK,UACLhE,QAAQ,WACR/B,MAAOmL,EACPxH,SAAU,SAACC,GACVwH,EAAWxH,EAAEE,OAAO9D,UAGtB,yBAAK2B,UAAU,QACd,kBAACmE,EAAA,EAAD,KACC,kBAACiG,GAAA,EAAD,CAAQzI,MAAM,QAAQtD,MAAOuL,EAAO5H,SAAU,SAACC,GAAD,OAAO4H,EAAS5H,EAAEE,OAAO9D,SACtE,kBAAC4C,EAAA,EAAD,CAAUT,aAAW,OAAOsB,UAAQ,EAACzD,MAAM,SAA3C,SAGA,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO,SAAjB,SACA,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO,SAAjB,WAGF,kBAAC8F,EAAA,EAAD,KACC,kBAACiG,GAAA,EAAD,CAAQzI,MAAM,OAAOtD,MAAOgG,EAAMrC,SAAU,SAACC,GAAD,OAAO6H,EAAQ7H,EAAEE,OAAO9D,SACnE,kBAAC4C,EAAA,EAAD,CAAUT,aAAW,OAAOsB,UAAQ,EAACzD,MAAM,QAA3C,QAGA,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO,YAAjB,YACA,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO,SAAjB,SACA,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO,WAAjB,WACA,kBAAC4C,EAAA,EAAD,CAAU5C,MAAO,UAAjB,YAIF,kBAACqD,EAAA,EAAD,CACCd,GAAG,OACHyD,KAAK,OACLhG,MAAO0L,EACP/H,SAAU,SAACC,GACV+H,EAAa/H,EAAEE,OAAO9D,WAIzB,kBAAC,EAAD,CACC6D,cAAeuB,EACff,aAAcgB,EACd9B,QAASA,EACTa,OAAQA,EACRV,MAAOsC,IAER,kBAAC3C,EAAA,EAAD,CACC1B,UAAU,UACV2B,MAAM,UACNyC,KAAK,UACLhE,QAAQ,WACRiK,WAAS,EACTC,KAAM,EACNjM,MAAOqL,EACP1H,SAAU,SAACC,GACV0H,EAAW1H,EAAEE,OAAO9D,UAGtB,kBAACqD,EAAA,EAAD,CACCC,MAAM,kCACNf,GAAG,UACHyD,KAAK,OACLhG,MAAO4L,EACPjI,SAAU,SAACC,GACViI,EAAWjI,EAAEE,OAAO9D,UAItB,kBAACX,EAAA,EAAD,CACCC,QAtHe,WACpB,IAAI8G,EAAU,CACbC,YAAaA,EACb8E,QAASA,EACTE,QAASA,EACTE,MAAOA,EACPvF,KAAMA,EACNzC,QAASA,EACTa,OAAQA,EACR8H,KAAMR,EACNS,SAAUP,EACVQ,YAAavE,GAEdtB,MAAM3F,EAAM,SAAU,CACrB4F,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUR,KAEpBS,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAUgE,EAAaC,EAAUqB,OAAOtF,MAAQ+E,MAoGlDrI,UACE0H,GAAqB,UAAVI,GAA8B,SAATvF,IAAoBqF,GAAyB,eAAdK,GAHlE,UAcH,yBAAK/J,UAAU,kBACd,kBAACtC,EAAA,EAAD,CAAQ6C,MAAM,UAAU5C,QA/IJ,WACtB4L,GAAY,GACPF,GACJD,EAAaD,KA6IX,kBAAC,KAAD,S,OClEUwB,OAjGf,YAAoG,IAA/EC,EAA8E,EAA9EA,WAAyBC,GAAqD,EAAlEnG,YAAkE,EAArDmG,iBAAiBC,EAAoC,EAApCA,eACtDP,GAD0F,EAApBQ,iBACNH,EAAhEL,MAAMb,EAA0DkB,EAA1DlB,QAASsB,EAAiDJ,EAAjDI,UAAWR,EAAsCI,EAAtCJ,SAAiBhB,GAAqBoB,EAA5BhB,MAA4BgB,EAArBpB,SAD+C,GAC1BoB,EAAZK,QAC1BrL,mBAAS8J,IAFuD,mBAE1FwB,EAF0F,KAEhFC,EAFgF,OAGhEvL,mBAAS4J,GAHuD,mBAG1F4B,EAH0F,KAGhFC,EAHgF,OAI9DzL,mBAAS4K,GAJqD,mBAI1Fc,EAJ0F,KAI/EC,EAJ+E,OAK5D3L,mBAASoL,GALmD,mBAK1FQ,EAL0F,KAK9EC,EAL8E,OAMtE7L,mBAAS2K,GAN6D,mBAM1FmB,EAN0F,KAMnFC,EANmF,KA0BlG,OACC,yBAAK3L,UAAU,cACd,kBAACmE,EAAA,EAAD,CAAanE,UAAU,QACtB,0CAEA,kBAAC0B,EAAA,EAAD,CACCC,MAAM,UACNyC,KAAK,UACLhE,QAAQ,WACRJ,UAAU,QACV3B,MAAO+M,EACPpJ,SAAU,SAACC,GACVoJ,EAAYpJ,EAAEE,OAAO9D,UAGvB,kBAACqD,EAAA,EAAD,CACCC,MAAM,UACNyC,KAAK,UACLhE,QAAQ,WAERiK,WAAS,EACTrK,UAAU,QACV3B,MAAO6M,EACPlJ,SAAU,SAACC,GACVkJ,EAAYlJ,EAAEE,OAAO9D,UAGvB,kBAACqD,EAAA,EAAD,CACCC,MAAM,YACNyC,KAAK,WACLhE,QAAQ,WACRJ,UAAU,QACV3B,MAAOiN,EACPtJ,SAAU,SAACC,GACVsJ,EAAatJ,EAAEE,OAAO9D,UAGxB,kBAACqD,EAAA,EAAD,CACCC,MAAM,aACNyC,KAAK,YACLhE,QAAQ,WACRJ,UAAU,QACV3B,MAAOmN,GAA0B,GACjCxJ,SAAU,SAACC,GACVwJ,EAAcxJ,EAAEE,OAAO9D,UAGzB,kBAACqD,EAAA,EAAD,CACCC,MAAM,OACNyC,KAAK,OACLC,KAAK,OACLjE,QAAQ,WACRJ,UAAU,OACV3B,MAAOqN,EACP1J,SAAU,SAACC,GACV0J,EAAS1J,EAAEE,OAAO9D,UAGpB,yBAAK2B,UAAU,WACd,kBAACtC,EAAA,EAAD,CAAQ0C,QAAQ,YAAYJ,UAAU,SAASO,MAAM,UAAU5C,QA7E9C,WACpB,IAAI8G,EAAU,CACbiF,QAASwB,EACT1B,QAAS4B,EACTZ,SAAUc,EACVN,UAAWQ,EACXjB,KAAMmB,GAGP9G,MAAM3F,EAAM,UAAY2L,EAAWhK,GAAI,CACtCiE,OAAQ,QACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUR,KAEpBS,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACE,GAAD,OAAUyF,EAAgBzF,KAAO0F,GAAe,MA8DpD,UAGA,kBAACpN,EAAA,EAAD,CAAQ0C,QAAQ,YAAYJ,UAAU,SAASO,MAAM,YAAY5C,QAAS,kBAAMmN,GAAe,KAC9F,kBAAC,KAAD,W,+IC9DA5L,GAAYC,aAAW,SAACC,GAAD,MAAY,CACxCsH,OAAQ,CACPA,OAAQtH,EAAMK,QAAQ,SAmWxB,IAEehB,MAFO,SAACT,GAAD,QAAgBA,IAEvBS,EAjWf,SAAkBnD,GAEjB,IAkDqBsP,EAlDjBgB,EAAI,IAAIC,KAENjN,EAAUkN,cAJQ,EAMgBjF,GAAS5H,EAAM,aAAe3D,EAAMyQ,MAAMC,OAAOpL,IANjE,mBAMhBuE,EANgB,KAMN8B,EANM,KAMGE,EANH,OASMvH,mBAAS,IATf,mBASlBqM,EATkB,KASTC,EATS,OAUQtM,mBAAS,CAAE,EAAG,OAVtB,mBAUlBuM,EAVkB,KAURC,EAVQ,OAWUxM,mBAAS,MAXnB,mBAWlByJ,EAXkB,KAWPD,EAXO,OAYkBxJ,mBAAS,MAZ3B,mBAYlByM,EAZkB,KAYHC,EAZG,OAakB1M,oBAAS,GAb3B,mBAalB2M,EAbkB,KAaHxB,EAbG,OAccnL,oBAAS,GAdvB,mBAclB4M,EAdkB,KAcL1B,EAdK,OAekBlL,oBAAS,GAf3B,mBAelB6M,EAfkB,KAeHC,EAfG,OAkBA9M,oBAAS,GAlBT,mBAkBlB+M,EAlBkB,KAkBZC,EAlBY,KAqBlBC,EAAe3N,KAGf4N,EAAeC,mBAIrB,GCjEwB,SAACC,EAAO/F,GAAa,IAAD,EACNrH,mBAAS,CAAEqN,MAAO,EAAGC,OAAQ,IADvB,mBACpCC,EADoC,KACxBC,EADwB,KA0B5C,OAvBAvJ,qBACC,WACC,IAAMwJ,EAAgB,iBAAO,CAC5BJ,MAAOD,EAAMM,QAAQC,YACrBL,OAAQF,EAAMM,QAAQE,eAEjBC,EAAe,WACpBL,EAAcC,MASf,OANIL,EAAMM,SACTF,EAAcC,KAGfK,OAAOC,iBAAiB,SAAUF,GAE3B,WACNC,OAAOE,oBAAoB,SAAUH,MAGvC,CAAET,EAAO/F,IAGHkG,EDoCWU,CAAUf,EAAc7F,GAAlCgG,MAGJhG,EACH,OAAO,yBAAK7J,IAAK0P,GAAV,WAER,GAAI3F,EACH,OAAO,yBAAK/J,IAAK0P,GAAV,aAGR,IAAiB,IAAb3H,GAAmC,OAAbA,GAAyC,MAApBA,EAASsC,OAAgB,CAAC,IAChE1E,EAAqFoC,EAArFpC,MAAgBE,GAAqEkC,EAA9EO,QAA8EP,EAArElC,QAAQkG,EAA6DhE,EAA7DgE,OAAQlM,EAAqDkI,EAArDlI,KAAkBiJ,GAAmCf,EAA/CsC,OAA+CtC,EAAvCvE,IAC9C+D,IADqFQ,EAAvB2I,UAAuB3I,EAAZ8F,QAC5DhO,EAAb0H,UAEAxB,GAAuBF,EAAvBE,SAAUE,GAAaJ,EAAbI,SAiBZ0K,GAAqB,SAAC9L,GAC3B,IAAI5D,EAAQ4D,EAAEvB,cAAc0D,KACd,UAAV/F,GAAqB4N,EAAQ+B,SAAS,SACzC9B,EAAWD,EAAQtD,QAAO,SAACsF,GAAD,MAAmB,UAATA,KAAkBvD,OAAOrM,IACzC,UAAVA,GAAqB4N,EAAQ+B,SAAS,SAChD9B,EAAWD,EAAQtD,QAAO,SAACsF,GAAD,MAAmB,UAATA,KAAkBvD,OAAOrM,IACnD4N,EAAQ+B,SAAS3P,GAC3B6N,EAAWD,EAAQtD,QAAO,SAACsF,GAAD,OAAUA,IAAS5P,MAE7C6N,EAAWD,EAAQvB,OAAOrM,KAYtB6P,GAAW,SAACC,GACjB,OAAOA,EAAWxL,MAAM,KAAK,IAGxByL,GAAa,SAAC3N,GACnB,OAAOyN,GAASzN,EAAM8J,MAAQ2D,GAAS/K,KAgBlCkL,GAAW,WAChB,OAAOH,GAAS7K,IAAY6K,GAAS/K,KAGhCmL,GAAmB,WACxB,OAAO1C,EAAE2C,cAAgBL,GAAS/K,KAO7BqL,GAAc,WAQnB,IAPA,IAAIC,EAAW,GAKXC,GAHAD,EADJtC,EAAS,GACMA,EAAS,GAAKA,EAAS,GACnC9I,GAAuBgL,KAAalC,EAAS,GAAkBmC,KAAqBnC,EAAS,IAEpE,GACxBwC,EAAM,GACD/F,EAAI,EAAGA,EAAI,GAAIA,IAGvB+F,EAAI9P,KAAK6P,EAAa9F,GAGJuD,EAAS,GAAKA,EAAS,GAA1C,IACIyC,EAAUD,EAAItM,KAAI,SAACwM,GAAD,OAASC,KAAKC,MAAMF,EAAMG,SAASd,GAAS/K,KAAagJ,EAAS,IAAI8C,cACxFC,EAAa,aAAQ,IAAIC,IAAIP,IAEjC,OAAIH,GAAY,IAGfS,EAAcE,QAFPF,GAaHG,GAAe,SAACC,GASrB1K,MAAM3F,EAAM,OAASiH,EAAY,CAChCrB,OAAQ,SACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEsK,QAASD,MAE/BpK,MAAK,SAACsK,GAAD,OAASA,EAAIpK,UAClBF,MAAK,SAACE,GAAD,OAdcmK,EAcQD,OAZ3BlG,EADGC,EACUA,EAAUV,QAAO,SAAClI,GAAD,OAAWA,EAAMG,KAAO2O,KAEzCpG,EAAOR,QAAO,SAAClI,GAAD,OAAWA,EAAMG,KAAO2O,MAJjC,IAACA,IAcmBxE,GAAiB,KAwB1D,OACC,yBAAK/K,UAAU,qBAAqB5C,IAAK0P,GACxC,yBAAK9M,UAAU,UACd,kBAACtC,EAAA,EAAD,CAAQ6C,MAAM,UAAU5C,QAAS,kBAAMiB,EAAQ6Q,WAC9C,kBAAC,KAAD,OAGD,wBAAIzP,UAAU,SACZ+C,EADF,MACYE,EAAOmB,MAEnB,yBAAKpE,UAAU,eACd,kBAAC,GAAD,CACCkJ,SAAUjM,EAAKyH,YACfA,YAAapJ,EAAME,SAASc,KAAKwH,EACjCqF,OAAQA,EACRE,UAAWA,EACXD,aAAcA,EACdlD,WAAYA,IAGb,yBAAKlG,UAAU,UAAf,YAAkC2E,MAGpC,yBAAK3E,UAAU,WAlKG,CACnB,CAAEoE,KAAM,QAAS7D,MAAO,aACxB,CAAE6D,KAAM,QAAS7D,MAAO,aACxB,CAAE6D,KAAM,WAAY7D,MAAO,WAC3B,CAAE6D,KAAM,QAAS7D,MAAO,WACxB,CAAE6D,KAAM,UAAW7D,MAAO,WAC1B,CAAE6D,KAAM,OAAQ7D,MAAO,YA6JR8B,KAAI,SAACqN,EAAQ9G,GAAT,OAChB,kBAAClL,EAAA,EAAD,CACCsC,UAAS,UAAK0P,EAAOtL,KAAZ,YAAoByI,EAAanG,QAC1CtC,KAAMsL,EAAOtL,KACb7D,MAAOmP,EAAOnP,MACdsI,KAAK,QACLzI,QAAS6L,EAAQ+B,SAAS0B,EAAOtL,MAAQ,WAAa,YACtDzG,QAASoQ,GACTvL,IAAKoG,GAEJ8G,EAAOtL,SAIV,kBAACuL,GAAA,EAAD,CACCC,aAAc,CAAE,EAAGvM,GAAWgL,KAAaC,MAC3CjQ,MAAO8N,EAAS,GAAKA,EAAW9I,GAAW,CAAE,EAAGgL,MAAe,CAAE,EAAGC,MACpEtM,SAlIiB,SAACC,EAAG4N,GAEpBA,EAAS,GAAKA,EAAS,IAAM,GAAKA,IAAa1D,GAClDC,EAAYyD,IAgIVC,kBAAgB,eAChBC,KAAM,EACNC,IAAK,EACLC,IAAK5M,GAAWgL,KAAaC,KAC7B4B,kBAAkB,UAGnB3D,EACA,yBAAKvM,UAAU,mBACd,yBAAKA,UAAU,UACd,kBAACtC,EAAA,EAAD,CACCC,QAAS,WACRiP,GAASD,KAGTA,EAAO,kBAAC,KAAD,MAAmB,kBAAC,KAAD,OAE5B,4BAAKN,EAAc7C,SAEnB,kBAAC9L,EAAA,EAAD,KACC,kBAAC,KAAD,CACCC,QAAS,WACRoN,GAAiB,GACjB6B,GAAQ,QAKZ,yBAAK5M,UAAU,QAAQqM,EAAc3C,SACpC2C,EAAc7B,SACd,6BACC,yBACCxK,UAAU,eACVwB,IAAK6K,EAAc7B,SACnB2F,IAAK9D,EAAcrB,UAAYqB,EAAcrB,UAAY,KAEzDqB,EAAcrB,UAAY,uBAAGhL,UAAU,iBAAiBqM,EAAcrB,WAAiB,MAEtF,KACHwB,EACA,kBAAC,GAAD,CACC5B,WAAYyB,EACZ3H,YAAapJ,EAAME,SAASc,KAAKwH,EACjC+G,gBAzGkB,SAACtF,GAEvB6D,EADGC,EACUA,EAAUhH,KAAI,SAAC5B,GAAD,OAAYA,EAAMG,KAAO2E,EAAK3E,GAAK2E,EAAO9E,KAExD0I,EAAO9G,KAAI,SAAC5B,GAAD,OAAYA,EAAMG,KAAO2E,EAAK3E,GAAK2E,EAAO9E,MAEnE6L,EAAiB/G,IAoGZuF,eAAgBA,EAChBC,iBAAkBA,IAEhB,KACHzP,EAAME,SAASc,KAAKwH,IAAM7G,EAAKyH,YAC/B,yBAAK1E,UAAU,eACd,kBAACtC,EAAA,EAAD,CAAQC,QAxIK,WAClBmN,GAAe,KAwIT,kBAAC,KAAD,OAED,kBAACpN,EAAA,EAAD,CAAQC,QAAS,kBAAM+O,GAAiB,KACvC,kBAAC,KAAD,OAEAD,EACA,6BACC,8CACA,kBAAC/O,EAAA,EAAD,CACCC,QAAS,WACR0R,GAAahD,EAAczL,IAC3B8L,GAAiB,KAGlB,kBAAC,KAAD,OAED,kBAAChP,EAAA,EAAD,CACCC,QAAS,WACR+O,GAAiB,KAGlB,kBAAC,KAAD,QAGC,MAEF,KACJ,yBAAK1M,UAAU,QAAQqM,EAAc9B,OAEnC,KACJ,yBAAKvK,UAAU,gBACd,yBAAKA,UAAU,cAAcgP,SAASd,GAAS/K,KAAagJ,EAAS,IAErE,yBAAKnM,UAAU,UACd,yBAAKA,UAAU,iBACbwO,KACAA,KAAcnM,KAAI,SAAC+N,EAAQxH,GAAT,OAAe,yBAAK5I,UAAU,mBAAmBwC,IAAKoG,GAAvC,UAA8CwH,OAE/E,yBAAKpQ,UAAU,oBAAf,YAGF,yBAAKA,UAAU,mBAvOO,SAAC4K,GAC1B,OAAIuB,EAAS,GACLvB,EAAWjC,QAAO,SAAClI,GAAD,OAAW2N,GAAW3N,IAAU0L,EAAS,IAAMiC,GAAW3N,IAAU0L,EAAS,MAE/FvB,EAoOHyF,CAxPyB,SAACzF,GAE/B,IADA,IAAI+D,EAAM/D,EADoC,WAErChC,GACR+F,EAAMA,EAAIhG,QAAO,SAAClI,GAAD,OAAY,CAAEA,EAAM6P,cAAe7P,EAAMmJ,OAAQoE,SAAS/B,EAAQrD,QAD3EA,EAAI,EAAGA,EAAIqD,EAAQsE,OAAQ3H,IAAM,EAAjCA,GAGT,OAAO+F,EAoPF6B,EAzQc5F,EAyQoBvB,GAAwBF,EAxQlDyB,EAAW6F,MAAK,SAACC,EAAGC,GAAJ,OAAUzC,GAASwC,EAAEnG,MAAQ2D,GAASyC,EAAEpG,SACvDlI,KAAI,SAAC5B,EAAOmI,GAAR,uBAAoBnI,EAApB,CAA2BmQ,YAAahI,UAwQpDvG,KAAI,SAAC5B,EAAOmI,SAmBhB,yBAAK5I,UAAU,cACbgP,SAASd,GAAS/K,MACjBgJ,EAAS,GAAKA,EAAS,GAAK9I,GAAWgL,KAAaC,SAM1D,OAAO,kBAAC,GAAD,CAAWnJ,SAAUA,O,SE7WxB0L,I,OAAgB,CACrBlM,SAAU,GACVvI,MAAO,GACP0U,YAAa,GACbC,YAAa,GACbC,WAAY,GACZC,MAAO,OAGFC,G,kDACL,WAAY5V,GAAQ,IAAD,8BAClB,cAAMA,IAKP6V,SAAW,SAAC1Q,GAAW,IAAD,EACoB,EAAK1C,MAAtC4G,EADa,EACbA,SAAUvI,EADG,EACHA,MAAO0U,EADJ,EACIA,YACzB,EAAKxV,MAAME,SACTW,iCAAiCC,EAAO0U,GAExC5L,MAAK,SAAClH,GAEN,OAAO,EAAK1C,MAAME,SAASyB,KAAKe,EAASf,KAAKC,KAAKkU,IAAI,CACtDzM,WACAvI,aAID8I,MAAK,WACL,EAAK/G,SAAL,gBAAmB0S,KACnB,EAAKvV,MAAMsD,QAAQC,KAAKC,MAExBuI,OAAM,SAAC4J,GACP,EAAK9S,SAAS,CAAE8S,aAElBxQ,EAAM4Q,kBA1BY,EA8BnBrP,SAAW,SAACvB,GACX,EAAKtC,SAAL,gBAAiBsC,EAAM0B,OAAOiC,KAAO3D,EAAM0B,OAAO9D,SA5BlD,EAAKN,MAAL,gBAAkB8S,IAHA,E,qDAkCT,IAAD,EACqDrT,KAAKO,MAA1D4G,EADA,EACAA,SAAUvI,EADV,EACUA,MAAO0U,EADjB,EACiBA,YAAaC,EAD9B,EAC8BA,YAAaE,EAD3C,EAC2CA,MAE7CK,EAAYR,IAAgBC,GAA+B,KAAhBD,GAAgC,KAAV1U,GAA6B,KAAbuI,EACvF,OACC,yBAAK3E,UAAU,cACd,0BAAMmR,SAAU3T,KAAK2T,SAAUnR,UAAU,UACxC,kBAAC0B,EAAA,EAAD,CACC1B,UAAU,YACVY,GAAG,iBACHe,MAAM,WACNyC,KAAK,WACL/F,MAAOsG,EACP3C,SAAUxE,KAAKwE,WAEhB,6BACA,kBAACN,EAAA,EAAD,CACC1B,UAAU,YACVY,GAAG,iBACHe,MAAM,QACNyC,KAAK,QACL/F,MAAOjC,EACP4F,SAAUxE,KAAKwE,WAEhB,6BACA,kBAACN,EAAA,EAAD,CACC1B,UAAU,YACVY,GAAG,iBACHe,MAAM,WACNyC,KAAK,cACL/F,MAAOyS,EACP9O,SAAUxE,KAAKwE,SACfqC,KAAK,aAEN,6BACA,kBAAC3C,EAAA,EAAD,CACC1B,UAAU,YACVY,GAAG,iBACHe,MAAM,mBACNyC,KAAK,cACL/F,MAAO0S,EACP/O,SAAUxE,KAAKwE,SACfqC,KAAK,aAEN,6BACA,kBAAC3G,EAAA,EAAD,CAAQ2G,KAAK,SAASvC,SAAUwP,GAAhC,WAGCL,GAAS,2BAAIA,EAAMvI,e,GAnFIrN,aA0FvBkW,GAAa,WAClB,OACC,qDACwB,kBAAC,IAAD,CAAMrQ,GAAIpC,GAAV,aAOpB0S,GAAazS,YAAQC,IAAY5D,EAApB2D,CAAkCmS,IAEtCO,GAtHI,kBAClB,6BACC,4CACA,kBAACD,GAAD,QCFIX,GAAgB,CACrBzU,MAAO,GACP6U,MAAO,MAGFS,G,kDACL,WAAYpW,GAAQ,IAAD,8BAClB,cAAMA,IAKP6V,SAAW,SAAC1Q,GAAW,IACdrE,EAAU,EAAK2B,MAAf3B,MAER,EAAKd,MAAME,SACToB,gBAAgBR,GAChB8I,MAAK,WACL,EAAK/G,SAAL,gBAAmB0S,QAEnBxJ,OAAM,SAAC4J,GACP,EAAK9S,SAAS,CAAE8S,aAGlBxQ,EAAM4Q,kBAlBY,EAqBnBrP,SAAW,SAACvB,GACX,EAAKtC,SAAL,gBAAiBsC,EAAM0B,OAAOiC,KAAO3D,EAAM0B,OAAO9D,SAnBlD,EAAKN,MAAL,gBAAkB8S,IAHA,E,qDAyBT,IAAD,EACiBrT,KAAKO,MAAtB3B,EADA,EACAA,MAAO6U,EADP,EACOA,MAETK,EAAsB,KAAVlV,EAElB,OACC,0BAAM+U,SAAU3T,KAAK2T,UACpB,2BACC/M,KAAK,QACL/F,MAAOb,KAAKO,MAAM3B,MAClB4F,SAAUxE,KAAKwE,SACfqC,KAAK,OACLmC,YAAY,kBAEb,4BAAQ1E,SAAUwP,EAAWjN,KAAK,UAAlC,qBAIC4M,GAAS,2BAAIA,EAAMvI,c,GA5CarN,aAkD/BsW,GAAqB,kBAC1B,2BACC,kBAAC,IAAD,CAAMzQ,GpBnEuB,4BoBmE7B,sBAIa0Q,GApEY,kBAC1B,6BACC,8CACA,kBAACC,GAAD,QAmEIA,GAAqBzW,EAAasW,ICvDlCb,I,OAAgB,CACrBzU,MAAO,GACPC,SAAU,GACV4U,MAAO,OAGFa,G,kDACL,WAAYxW,GAAQ,IAAD,8BAClB,cAAMA,IAKP6V,SAAW,SAAC1Q,GAAW,IAAD,EACO,EAAK1C,MAAzB3B,EADa,EACbA,MAAOC,EADM,EACNA,SACf,EAAKf,MAAME,SACTgB,6BAA6BJ,EAAOC,GACpC6I,MAAK,WACL,EAAK/G,SAAL,gBAAmB0S,KACnB,EAAKvV,MAAMsD,QAAQC,KAAKC,MAExBuI,OAAM,SAAC4J,GACP,EAAK9S,SAAS,CAAE8S,aAElBxQ,EAAM4Q,kBAjBY,EAoBnBrP,SAAW,SAACvB,GACX,EAAKtC,SAAL,gBAAiBsC,EAAM0B,OAAOiC,KAAO3D,EAAM0B,OAAO9D,SArBhC,EAwBnB0T,YAAc,SAACtR,GACd,EAAKnF,MAAME,SACTgB,6BAA6B,kBAAmB,UAChD0I,MAAK,WACL,EAAK/G,SAAL,gBAAmB0S,KACnB,EAAKvV,MAAMsD,QAAQC,KAAKC,MAExBuI,OAAM,SAAC4J,GACP,EAAK9S,SAAS,CAAE8S,cA7BlB,EAAKlT,MAAL,gBAAkB8S,IAHA,E,qDAoCT,IAAD,EAC2BrT,KAAKO,MAAhC3B,EADA,EACAA,MAAOC,EADP,EACOA,SAAU4U,EADjB,EACiBA,MACnBK,EAAyB,KAAbjV,GAA6B,KAAVD,EACrC,OACC,yBAAK4D,UAAU,cACd,0BAAMmR,SAAU3T,KAAK2T,SAAUnR,UAAU,UACxC,kBAAC0B,EAAA,EAAD,CACC1B,UAAU,YACVY,GAAG,iBACHe,MAAM,QACNyC,KAAK,QACL/F,MAAOjC,EACP4F,SAAUxE,KAAKwE,WAEhB,6BACA,kBAACN,EAAA,EAAD,CACC1B,UAAU,YACVY,GAAG,iBACHe,MAAM,WACNyC,KAAK,WACL/F,MAAOhC,EACP2F,SAAUxE,KAAKwE,SACfqC,KAAK,aAEN,6BACA,yBAAKrE,UAAU,WACd,kBAACtC,EAAA,EAAD,CAAQ2G,KAAK,SAASjE,QAAQ,YAAYG,MAAO+Q,EAAY,UAAY,WAAzE,WAGA,kBAAC5T,EAAA,EAAD,CAAQC,QAASH,KAAKuU,YAAa3R,QAAQ,aAA3C,gBAIA6Q,EAAQ,2BAAIA,EAAMvI,SAAe,MAEnC,yBAAK1I,UAAU,aACd,6BACA,kBAAC,GAAD,MACA,6BACA,kBAAC,GAAD,Y,GA5EwB9E,IAAMG,WAkF7B2W,GAAajT,YAAQC,IAAY5D,EAApB2D,CAAkC+S,IAEtCG,GAjGI,kBAClB,6BACC,4CACA,kBAACD,GAAD,QCbInB,GAAgB,CACrBC,YAAa,GACbC,YAAa,GACbE,MAAO,MAGFiB,G,kDACL,WAAY5W,GAAQ,IAAD,8BAClB,cAAMA,IAKP6V,SAAW,SAAC1Q,GAAW,IACdqQ,EAAgB,EAAK/S,MAArB+S,YAER,EAAKxV,MAAME,SACTsB,iBAAiBgU,GACjB5L,MAAK,WACL,EAAK/G,SAAL,gBAAmB0S,QAEnBxJ,OAAM,SAAC4J,GACP,EAAK9S,SAAS,CAAE8S,aAGlBxQ,EAAM4Q,kBAlBY,EAqBnBrP,SAAW,SAACvB,GACX,EAAKtC,SAAL,gBAAiBsC,EAAM0B,OAAOiC,KAAO3D,EAAM0B,OAAO9D,SAnBlD,EAAKN,MAAL,gBAAkB8S,IAHA,E,qDAyBT,IAAD,EACoCrT,KAAKO,MAAzC+S,EADA,EACAA,YAAaC,EADb,EACaA,YAAaE,EAD1B,EAC0BA,MAE5BK,EAAYR,IAAgBC,GAA+B,KAAhBD,EAEjD,OACC,0BAAMK,SAAU3T,KAAK2T,UACpB,2BACC/M,KAAK,cACL/F,MAAOyS,EACP9O,SAAUxE,KAAKwE,SACfqC,KAAK,WACLmC,YAAY,iBAEb,2BACCpC,KAAK,cACL/F,MAAO0S,EACP/O,SAAUxE,KAAKwE,SACfqC,KAAK,WACLmC,YAAY,yBAEb,4BAAQ1E,SAAUwP,EAAWjN,KAAK,UAAlC,qBAIC4M,GAAS,2BAAIA,EAAMvI,c,GAnDSrN,aAyDlBD,KAAa8W,IC3CbzT,MAFO,SAACT,GAAD,QAAgBA,IAEvBS,EAjBK,SAACnD,GAEpB,OADAqL,QAAQC,IAAItL,EAAME,SAASsI,GAE1B,kBAAC,EAAgBvI,SAAjB,MACE,SAACyC,GAAD,OACA,6BACC,wCAAcA,EAAS5B,OACvB,kBAACyV,GAAD,MACA,kBAACM,GAAD,aCMUtU,MAXQ,WACtB,OACC,6BACC,kBAAC,IAAD,CAAOwD,OAAK,EAACC,KAAMxC,EAAgBsT,UAAWX,KAC9C,kBAAC,IAAD,CAAOpQ,OAAK,EAACC,KAAMxC,EAAgBsT,UAAWH,KAC9C,kBAAC,IAAD,CAAO5Q,OAAK,EAACC,KxBZe,2BwBYe8Q,UAAWR,KACtD,kBAAC,IAAD,CAAOvQ,OAAK,EAACC,KxBdO,yBwBce8Q,UAAWC,S,OCuBlCxU,UApBf,SAAavC,GAEZ,OACC,kBAAC,IAAD,KACC,yBAAK0E,UAAU,OACd,kBAAC,EAAD,OAGD,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOqB,OAAK,EAACC,KAAMxC,EAAasT,UAAW7Q,IAC3C,kBAAC,IAAD,CAAOF,OAAK,EAACC,KAAMxC,EAAkBsT,UAAWE,KAChD,kBAAC,IAAD,CAAOjR,OAAK,EAACC,KAAMxC,EAAgBsT,UAAWG,KAC9C,kBAAC,IAAD,CAAOjR,KAAMxC,EAAiBsT,UAAWI,KACzC,kBAAC,IAAD,CAAOnR,OAAK,EAACC,KAAMxC,EAAesT,UAAWK,IAC7C,kBAAC,GAAD,W,SC/BSC,GAAeC,aAAY,CACtCvO,KAAM,UACNtB,aAAc,CACZzE,MAAO,GAETuU,SAAU,CACRC,UAAW,SAAA9U,GAKTA,EAAMM,OAAS,GAEjByU,UAAW,SAAA/U,GACTA,EAAMM,OAAS,GAEjB0U,kBAAmB,SAAChV,EAAOiV,GACzBjV,EAAMM,OAAS2U,EAAOvO,Y,GAK+BiO,GAAaO,QAiBzDP,I,GAjBAG,U,GAAWC,U,GAAWC,kBAiBtBL,GAAf,SCtCeQ,gBAAe,CAC5BC,QAAS,CACPC,QAASC,M,UCOOtS,QACW,cAA7B2M,OAAO4F,SAASC,UAEe,UAA7B7F,OAAO4F,SAASC,UAEhB7F,OAAO4F,SAASC,SAASxH,MACvB,2DCNNyH,IAASC,OACR,kBAAC,EAAgBrV,SAAjB,CAA0BC,MAAO,IAAInC,GACpC,kBAAC,KAAD,CAAUwX,MAAOA,IAChB,kBAAC,GAAD,QAGFC,SAASC,eAAe,SDiHnB,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7O,MAAK,SAAA8O,GACjCA,EAAaC,kB","file":"static/js/main.fc10ee94.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = (Component) => (props) => (\r\n\t<FirebaseContext.Consumer>{(firebase) => <Component {...props} firebase={firebase} />}</FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;\r\n","import app from 'firebase/app';\r\n//* Allows for user authentication + authorization\r\nimport 'firebase/auth';\r\n//* Allows for firebase database usage\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: 'AIzaSyAMzjFxpZFjYDuTWlhKlv-GaAiXyFqF0do',\r\n\tauthDomain: 'mod5-timeline.firebaseapp.com',\r\n\tdatabaseURL: 'https://mod5-timeline.firebaseio.com',\r\n\tprojectId: 'mod5-timeline',\r\n\tstorageBucket: 'mod5-timeline.appspot.com',\r\n\tmessagingSenderId: '246229182004',\r\n\tappId: '1:246229182004:web:3ff8c57c55db525b204c61',\r\n\tmeasurementId: 'G-5D69TSH040'\r\n};\r\n\r\nclass Firebase {\r\n\tconstructor() {\r\n\t\tapp.initializeApp(firebaseConfig);\r\n\r\n\t\tthis.auth = app.auth();\r\n\t\tthis.db = app.database();\r\n\t}\r\n\r\n\t// *** Auth API ***\r\n\r\n\tdoCreateUserWithEmailAndPassword = (email, password) => this.auth.createUserWithEmailAndPassword(email, password);\r\n\r\n\tdoSignInWithEmailAndPassword = (email, password) => this.auth.signInWithEmailAndPassword(email, password);\r\n\r\n\tdoSignOut = () => this.auth.signOut();\r\n\r\n\tdoPasswordReset = (email) => this.auth.sendPasswordResetEmail(email);\r\n\r\n\tdoPasswordUpdate = (password) => this.auth.currentUser.updatePassword(password);\r\n\t// * User API\r\n\tuser = (uid) => this.db.ref(`users/${uid}`);\r\n\tusers = () => this.db.ref('users');\r\n}\r\n\r\nexport default Firebase;\r\n","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\n\r\nexport { FirebaseContext, withFirebase };\r\n","import React from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport { Button } from '@material-ui/core';\r\n\r\nconst SignOutButton = ({ firebase }) => <Button onClick={firebase.doSignOut}>Sign Out</Button>;\r\n\r\nexport default withFirebase(SignOutButton);\r\n","import React from 'react';\r\n\r\nconst AuthUserContext = React.createContext(null);\r\n\r\nexport default AuthUserContext;\r\n","import React from 'react';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst withAuthentication = (Component) => {\r\n\tclass WithAuthentication extends React.Component {\r\n\t\tconstructor(props) {\r\n\t\t\tsuper(props);\r\n\r\n\t\t\tthis.state = {\r\n\t\t\t\tauthUser: null\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tcomponentDidMount() {\r\n\t\t\tthis.listener = this.props.firebase.auth.onAuthStateChanged((authUser) => {\r\n\t\t\t\tauthUser ? this.setState({ authUser }) : this.setState({ authUser: null });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tthis.listener();\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<AuthUserContext.Provider value={this.state.authUser}>\r\n\t\t\t\t\t<Component {...this.props} />\r\n\t\t\t\t</AuthUserContext.Provider>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;\r\n","export const SIGN_UP = '/mod5_frontend/signup';\r\nexport const SIGN_IN = '/mod5_frontend/signin';\r\nexport const ACCOUNT = '/mod5_frontend/account';\r\nexport const PASSWORD_FORGET = '/mod5_frontend/pw-forget';\r\nexport const HOME = '/mod5_frontend/';\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst withAuthorization = (condition) => (Component) => {\r\n\tclass WithAuthorization extends React.Component {\r\n\t\tcomponentDidMount() {\r\n\t\t\tthis.listener = this.props.firebase.auth.onAuthStateChanged((authUser) => {\r\n\t\t\t\tif (!condition(authUser)) {\r\n\t\t\t\t\tthis.props.history.push(ROUTES.SIGN_IN);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tcomponentWillUnmount() {\r\n\t\t\tthis.listener();\r\n\t\t}\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n\t\t\t\t<AuthUserContext.Consumer>\r\n\t\t\t\t\t{(authUser) => (condition(authUser) ? <Component {...this.props} /> : null)}\r\n\t\t\t\t</AuthUserContext.Consumer>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn compose(withRouter, withFirebase)(WithAuthorization);\r\n};\r\n\r\nexport default withAuthorization;\r\n","export const URL = 'http://localhost:3000/';\r\n\r\nexport const ROUTES = {\r\n\tHOME: '/mod5_frontend/',\r\n\tTIMELINES: '/mod5_frontend/timelines',\r\n\tTIMELINE: '/mod5_frontend/timeline/:id',\r\n\tPROFILE: '/mod5_frontend/profile',\r\n\tCREATE: '/mod5_frontend/create',\r\n\tTIMELINEGO: '/mod5_frontend/timeline/'\r\n};\r\n","import React, { useState } from 'react';\r\n\r\n// CSS\r\nimport './Navbar.style.css';\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { AppBar, Toolbar, IconButton, Typography, Menu, MenuItem, Button } from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\n// Authentication\r\nimport SignOutButton from '../../authentication/SignOut';\r\nimport { AuthUserContext } from '../../authentication/Session';\r\nimport { withFirebase } from '../../authentication/Firebase';\r\n\r\n// Routes\r\nimport { ROUTES } from '../../urlEnv';\r\nimport * as AUTHROUTES from '../../constants/routes';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t}\r\n}));\r\n\r\nfunction Navbar(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [ anchorEl, setAnchorEl ] = React.useState(null);\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tsetAnchorEl(event.currentTarget);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetAnchorEl(null);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root + ' navbar'}>\r\n\t\t\t<AppBar position=\"static\">\r\n\t\t\t\t<Toolbar variant=\"dense\">\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tclassName={classes.menuButton}\r\n\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\taria-label=\"menu\"\r\n\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t{/* MENU STARTS HERE */}\r\n\t\t\t\t\t<AuthUserContext.Consumer>\r\n\t\t\t\t\t\t{(authUser) =>\r\n\t\t\t\t\t\t\tauthUser ? (\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tid=\"simple-menu\"\r\n\t\t\t\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\t\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\t\t\t\t\tclassName=\"menu-dropdown\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={ROUTES.HOME}>Home</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={ROUTES.TIMELINES}>Timelines</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={ROUTES.PROFILE}>Profile</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={ROUTES.CREATE}>Create</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<SignOutButton />\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\t\tid=\"simple-menu\"\r\n\t\t\t\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\t\t\t\tkeepMounted\r\n\t\t\t\t\t\t\t\t\topen={Boolean(anchorEl)}\r\n\t\t\t\t\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\t\t\t\t\tclassName=\"menu-dropdown\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={ROUTES.HOME}>Home</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem onClick={handleClose}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={ROUTES.TIMELINES}>Timelines</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\r\n\t\t\t\t\t\t\t\t\t<MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={AUTHROUTES.SIGN_IN}>Sign In</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={AUTHROUTES.SIGN_UP}>Sign Up</Link>\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t</AuthUserContext.Consumer>\r\n\t\t\t\t\t<div className=\"title\">\r\n\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t<Route exact path={ROUTES.HOME}>\r\n\t\t\t\t\t\t\t\tHOME\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path={ROUTES.TIMELINES}>\r\n\t\t\t\t\t\t\t\tBROWSE\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route exact path={ROUTES.PROFILE}>\r\n\t\t\t\t\t\t\t\tPROFILE\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t\t<Route path={ROUTES.TIMELINE}>TIMELINE</Route>\r\n\t\t\t\t\t\t\t<Route exact path={ROUTES.CREATE}>\r\n\t\t\t\t\t\t\t\tCREATE\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { AuthUserContext } from '../../authentication/Session';\r\nimport { Link } from 'react-router-dom';\r\nimport './HomePage.style.css';\r\n\r\n// ROUTES\r\nimport * as AUTHROUTES from '../../constants/routes';\r\nimport { ROUTES } from '../../urlEnv';\r\nfunction HomePage(props) {\r\n\treturn (\r\n\t\t<div className=\"homepage\">\r\n\t\t\t<h1 className=\"title\">PATH</h1>\r\n\t\t\t<img className=\"gif\" src=\"https://cdn.dribbble.com/users/1539152/screenshots/3296884/timeline.gif\" />\r\n\t\t\t<div className=\"text\">\r\n\t\t\t\t<AuthUserContext.Consumer>\r\n\t\t\t\t\t{(authUser) =>\r\n\t\t\t\t\t\tauthUser ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>You're Logged in with {authUser.email}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\t\t<Link to={AUTHROUTES.SIGN_UP}>Create an Account </Link> or{' '}\r\n\t\t\t\t\t\t\t\t\t<Link to={AUTHROUTES.SIGN_IN}>Signin</Link> to View & Create your own{' '}\r\n\t\t\t\t\t\t\t\t\t<Link to={ROUTES.TIMELINES}>Timelines</Link>!\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</AuthUserContext.Consumer>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default HomePage;\r\n","import React from 'react';\r\n\r\nimport { CountryRegionData } from 'react-country-region-selector';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport './CountryRegionMUISelectors.style.css';\r\n\r\nconst getRegions = (country) => {\r\n\tif (!country) {\r\n\t\treturn [];\r\n\t}\r\n\treturn country[2].split('|').map((regionPair) => {\r\n\t\tlet [ regionName, regionShortCode = null ] = regionPair.split('~');\r\n\t\treturn regionName;\r\n\t});\r\n};\r\n\r\nfunction CountryRegionMUISelectors(props) {\r\n\treturn (\r\n\t\t<form className=\"countryRegion\">\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"country\"\r\n\t\t\t\tlabel=\"Country\"\r\n\t\t\t\tvalue={props.country}\r\n\t\t\t\tselect\r\n\t\t\t\tdisabled={props.specs ? props.specs === 'World' : false}\r\n\t\t\t\tonChange={(e) => props.handleCountry(e.target.value)}\r\n\t\t\t>\r\n\t\t\t\t{CountryRegionData.map((option, index) => (\r\n\t\t\t\t\t<MenuItem key={option[0]} value={option}>\r\n\t\t\t\t\t\t{option[0]}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t))}\r\n\t\t\t</TextField>\r\n\t\t\t<br />\r\n\t\t\t<TextField\r\n\t\t\t\tid=\"region\"\r\n\t\t\t\tlabel=\"Region\"\r\n\t\t\t\tvalue={props.region}\r\n\t\t\t\tselect\r\n\t\t\t\tdisabled={props.specs ? props.specs === 'Country' || props.specs === 'World' : false}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tprops.handleRegion(e.target.value);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{getRegions(props.country).map((option, index) => (\r\n\t\t\t\t\t<MenuItem key={option} value={option}>\r\n\t\t\t\t\t\t{option}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t))}\r\n\t\t\t</TextField>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default CountryRegionMUISelectors;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FormControl, TextField, Button } from '@material-ui/core';\r\nimport { withAuthorization } from '../../../authentication/Session';\r\nimport { URL } from '../../../urlEnv';\r\nimport CountryRegionMUISelectors from '../Selector/CountryRegionMUISelectors.component.js';\r\n\r\nimport './NewTimeline.style.css';\r\n\r\nconst initialState = {\r\n\tbirthday: '0000-00-00'\r\n};\r\n\r\nfunction NewTimeline(props) {\r\n\tconst [ title, titleSet ] = useState('');\r\n\tconst [ person, personSet ] = useState('');\r\n\tconst [ birthday, birthdaySet ] = useState(initialState.birthday);\r\n\tconst [ deathday, deathdaySet ] = useState('');\r\n\tconst [ userData, userDataSet ] = useState([]);\r\n\tconst [ country, countrySet ] = useState('');\r\n\tconst [ region, regionSet ] = useState('');\r\n\tconst [ imageURL, imageURLSet ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconst getUserData = () => {\r\n\t\t\t\tprops.firebase.user(props.firebase.auth.W).once('value', (snapshot) => {\r\n\t\t\t\t\tuserDataSet(snapshot.val());\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tgetUserData();\r\n\r\n\t\t\treturn function cleanUp() {\r\n\t\t\t\tprops.firebase.user(props.firebase.auth.W).off();\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ props.firebase ]\r\n\t);\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tlet payload = {\r\n\t\t\ttitle: title,\r\n\t\t\tperson: person,\r\n\t\t\tbirthday: birthday,\r\n\t\t\tdeathday: deathday,\r\n\t\t\tfirebase_id: props.firebase.auth.W,\r\n\t\t\tusername: userData.username,\r\n\t\t\tcountry: country[0],\r\n\t\t\tregion: region,\r\n\t\t\timageURL: imageURL\r\n\t\t};\r\n\r\n\t\tfetch(URL + 'timelines', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify(payload)\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((timeline) => props.history.push(`timeline/${timeline.id}`));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"newTimeline\">\r\n\t\t\t<h2>Make a New Timeline</h2>\r\n\t\t\t<h4>{userData.email === 'guest@gmail.com' ? \"As a guest, your timelines can't be published\" : null}</h4>\r\n\t\t\t<FormControl>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\ttitleSet(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Person\"\r\n\t\t\t\t\t\tname=\"person\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tvalue={person}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tpersonSet(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Picture (image URL)\"\r\n\t\t\t\t\t\tname=\"image URL\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tvalue={imageURL}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\timageURLSet(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"date-field\">\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"date\"\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue={birthday}\r\n\t\t\t\t\t\t\tclassName=\"input date\"\r\n\t\t\t\t\t\t\thelperText=\"Birthday\"\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tbirthdaySet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"date\"\r\n\t\t\t\t\t\t\tname=\"deathday\"\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue={deathday}\r\n\t\t\t\t\t\t\tclassName=\"input date\"\r\n\t\t\t\t\t\t\thelperText=\"Death day (optional)\"\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tdeathdaySet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"location\">\r\n\t\t\t\t\t<h5>Birth Place</h5>\r\n\t\t\t\t\t<CountryRegionMUISelectors\r\n\t\t\t\t\t\thandleCountry={countrySet}\r\n\t\t\t\t\t\thandleRegion={regionSet}\r\n\t\t\t\t\t\tcountry={country}\r\n\t\t\t\t\t\tregion={region}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\tdisabled={title === '' || person === '' || birthday === initialState.birthday || region === ''}\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst authCondition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(authCondition)(NewTimeline);\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Routes\r\nimport { ROUTES } from '../../../urlEnv/index';\r\n\r\nimport './TimelineCard.style.css';\r\n\r\nfunction TimelineCard({ data }) {\r\n\tconst [ detail, detailSet ] = useState(false);\r\n\tconst { title, id, person: { name: person }, user: { username: creator }, picture } = data;\r\n\r\n\treturn (\r\n\t\t<div className=\"timeline-card-frame\">\r\n\t\t\t<Link\r\n\t\t\t\tto={ROUTES.TIMELINEGO + id}\r\n\t\t\t\tstyle={{ textDecoration: 'none' }}\r\n\t\t\t\tonMouseEnter={() => detailSet(true)}\r\n\t\t\t\tonMouseLeave={() => detailSet(false)}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<h3>{title}</h3>\r\n\t\t\t\t\t<h5>{person}</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`timeline-card ${detail ? 'slowzoom' : null}`}\r\n\t\t\t\t\tstyle={{ backgroundImage: `url(${picture})` }}\r\n\t\t\t\t/>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default TimelineCard;\r\n","import React, { useState } from 'react';\r\nimport { URL } from '../../../urlEnv';\r\n\r\nimport { CountryRegionData } from 'react-country-region-selector';\r\n\r\nimport { FormControl, TextField, Button, MenuItem } from '@material-ui/core';\r\n\r\nimport './EditTimeline.style.css';\r\n\r\nconst getRegions = (country) => {\r\n\tif (!country) {\r\n\t\treturn [];\r\n\t}\r\n\treturn country[2].split('|').map((regionPair) => {\r\n\t\tlet [ regionName, regionShortCode = null ] = regionPair.split('~');\r\n\t\treturn regionName;\r\n\t});\r\n};\r\n\r\nfunction EditTimeline({ handleCloseForm, timelineId, timelineData, replaceTimelineData }) {\r\n\tconst [ title, titleSet ] = useState(timelineData.title);\r\n\tconst [ person, personSet ] = useState(timelineData.person.name);\r\n\tconst [ birthday, birthdaySet ] = useState(timelineData.person.birthday);\r\n\tconst [ deathday, deathdaySet ] = useState(timelineData.person.deathday);\r\n\tconst [ country, countrySet ] = useState('');\r\n\tconst [ region, regionSet ] = useState('');\r\n\tconst [ imgURL, imgURLSet ] = useState(timelineData.picture);\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tlet payload = {\r\n\t\t\ttitle: title,\r\n\t\t\tbirthday: birthday,\r\n\t\t\tdeathday: deathday,\r\n\t\t\tperson: person,\r\n\t\t\tcountry: country ? country[0] : timelineData.person.city.country.name,\r\n\t\t\tregion: region ? region : timelineData.person.city.name,\r\n\t\t\timgURL: imgURL\r\n\t\t};\r\n\t\tconsole.log('Payload', payload);\r\n\t\tfetch(URL + 'timelines/' + timelineId, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify(payload)\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((json) => replaceTimelineData(json), handleCloseForm());\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"newTimeline editTimeline\">\r\n\t\t\t<FormControl className=\"edit\">\r\n\t\t\t\t<h3>Edit Timeline</h3>\r\n\t\t\t\t<div className=\"text\">\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\t\tname=\"title\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\ttitleSet(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"Person\"\r\n\t\t\t\t\t\tname=\"person\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t// disabled\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tvalue={person}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tpersonSet(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel=\"image URL\"\r\n\t\t\t\t\t\tname=\"image URL\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\t\tvalue={imgURL}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\timgURLSet(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"date-field\">\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"date\"\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue={birthday}\r\n\t\t\t\t\t\t\tclassName=\"input date\"\r\n\t\t\t\t\t\t\thelperText=\"Birthday\"\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tbirthdaySet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"date\"\r\n\t\t\t\t\t\t\tname=\"deathday\"\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue={deathday ? deathday : ''}\r\n\t\t\t\t\t\t\tclassName=\"input date\"\r\n\t\t\t\t\t\t\thelperText=\"Death day (optional)\"\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tdeathdaySet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"location\">\r\n\t\t\t\t\t<h5>Birth Place</h5>\r\n\t\t\t\t\t<form className=\"countryRegion\">\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"country\"\r\n\t\t\t\t\t\t\tlabel=\"Country\"\r\n\t\t\t\t\t\t\tvalue={country ? country : timelineData.person.city.country.name}\r\n\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\tplaceholder={timelineData.person.city.country.name}\r\n\t\t\t\t\t\t\tonChange={(e) => countrySet(e.target.value)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MenuItem value={timelineData.person.city.country.name} disabled>\r\n\t\t\t\t\t\t\t\t{timelineData.person.city.country.name}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t{CountryRegionData.map((option, index) => (\r\n\t\t\t\t\t\t\t\t<MenuItem key={option[0]} value={option}>\r\n\t\t\t\t\t\t\t\t\t{option[0]}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tid=\"region\"\r\n\t\t\t\t\t\t\tlabel=\"Region\"\r\n\t\t\t\t\t\t\tvalue={region ? region : timelineData.person.city.name}\r\n\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\tplaceholder={timelineData.person.city.name}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tregionSet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MenuItem value={timelineData.person.city.name} disabled>\r\n\t\t\t\t\t\t\t\t{timelineData.person.city.name}\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t{getRegions(country).map((option, index) => (\r\n\t\t\t\t\t\t\t\t<MenuItem key={option} value={option}>\r\n\t\t\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ margin: '5px' }}\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\tdisabled={title === '' || person === '' || birthday === '0000-00-00'}\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button style={{ margin: '5px' }} onClick={handleCloseForm} variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EditTimeline;\r\n","import { useState, useEffect } from 'react';\r\nexport function useFetch(url, opts) {\r\n\tconst [ response, setResponse ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ hasError, setHasError ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tfetch(url, opts)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((json) => {\r\n\t\t\t\t\t// console.log(json);\r\n\t\t\t\t\tsetResponse(json);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tsetHasError(true);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[ url, opts ]\r\n\t);\r\n\r\n\treturn [ response, loading, hasError ];\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\n\r\n// links\r\nimport { URL } from '../../../urlEnv';\r\n\r\n// hooks\r\nimport { useFetch } from '../../../hooks/useFetch';\r\n\r\n// style\r\nimport { Button } from '@material-ui/core';\r\nimport './PublishTimeline.style.css';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nfunction PublishTimeline({ handleCloseForm, timelineId, replaceTimelineData }) {\r\n\tconst [ response, loading, hasError ] = useFetch(URL + 'timelines/' + timelineId);\r\n\r\n\tconst handleSubmit = (string) => {\r\n\t\tif (string === 'publish') {\r\n\t\t\tlet method = {\r\n\t\t\t\tmethod: 'PATCH',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify({ status: 'done' })\r\n\t\t\t};\r\n\r\n\t\t\tfetch(URL + 'timelines/' + timelineId, method)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((json) => (handleCloseForm(), replaceTimelineData(json)));\r\n\t\t} else if (string === 'unpublish') {\r\n\t\t\tlet method = {\r\n\t\t\t\tmethod: 'PATCH',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify({ status: 'edit' })\r\n\t\t\t};\r\n\t\t\tfetch(URL + 'timelines/' + timelineId, method)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((json) => (handleCloseForm(), replaceTimelineData(json)));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"publish-timeline\">\r\n\t\t\t{response ? response.status === 'edit' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>This Timeline is currently Private</h3>\r\n\t\t\t\t\t<Button onClick={() => handleSubmit('publish')} variant=\"contained\" color=\"primary\">\r\n\t\t\t\t\t\tPublish\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={handleCloseForm} variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : response.status === 'done' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>This Timeline is currently Public</h3>\r\n\t\t\t\t\t<Button onClick={() => handleSubmit('unpublish')} variant=\"contained\" color=\"primary\">\r\n\t\t\t\t\t\tUn-Publish\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={handleCloseForm} variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : loading ? (\r\n\t\t\t\t<div>Loading</div>\r\n\t\t\t) : hasError ? (\r\n\t\t\t\t<div>Has Error</div>\r\n\t\t\t) : null : null}\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default PublishTimeline;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Button, TextField } from '@material-ui/core';\r\nimport FireplaceIcon from '@material-ui/icons/Fireplace';\r\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\r\nimport ThumbDownAltIcon from '@material-ui/icons/ThumbDownAlt';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\n\r\nimport { URL } from '../../../urlEnv';\r\n\r\nimport './DeleteTimeline.style.css';\r\n\r\nfunction DeleteTimeline({ handleCloseForm, timelineId, removeTimeline }) {\r\n\tconst [ confirm, confirmSet ] = useState(false);\r\n\tconst [ textConfirm, textConfirmSet ] = useState('');\r\n\tconst [ label, labelSet ] = useState(\"type... 'Burn it'\");\r\n\tconst handleDelete = () => {\r\n\t\tif (textConfirm === 'Burn it') {\r\n\t\t\tfetch(URL + '/timelines/' + timelineId, {\r\n\t\t\t\tmethod: 'DELETE'\r\n\t\t\t}).then(removeTimeline(timelineId), handleCloseForm());\r\n\t\t} else {\r\n\t\t\thandleCloseForm();\r\n\t\t}\r\n\t};\r\n\r\n\tconst confirmationHandle = () => {\r\n\t\tconfirmSet(true);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"delete-timeline\">\r\n\t\t\t{confirm ? (\r\n\t\t\t\t<div className=\"confirmation\">\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tvalue={textConfirm}\r\n\t\t\t\t\t\tlabel=\"type... 'Burn it'\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tonChange={(e) => textConfirmSet(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Button onClick={handleDelete} variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\t<FireplaceIcon />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={handleCloseForm} variant=\"contained\" color=\"primary\">\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"text\">Are you sure you want to delete this timeline?</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button onClick={confirmationHandle} variant=\"contained\" color=\"primary\">\r\n\t\t\t\t\t\t\t<ThumbUpAltIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={handleCloseForm} variant=\"contained\" color=\"secondary\">\r\n\t\t\t\t\t\t\t<ThumbDownAltIcon />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default DeleteTimeline;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\n// Auth\r\nimport { withAuthorization } from '../../authentication/Session';\r\n\r\n// Links\r\nimport { URL } from '../../urlEnv/index';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Components\r\nimport NewTimeline from '../Forms/NewTimeline/NewTimeline.component';\r\nimport TimelineCard from '../Containers/Cards/TimelineCard.component';\r\nimport EditTimeline from '../Forms/EditTimeline/EditTimeline.component';\r\nimport PublishTimeline from '../Forms/PublishTimeline/PublishTimeline.component';\r\nimport DeleteTimeline from '../Forms/DeleteTimeline/DeleteTimeline.component';\r\n\r\n// style\r\nimport './Profile.style.css';\r\nimport { Button } from '@material-ui/core';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport PublicIcon from '@material-ui/icons/Public';\r\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\r\n\r\nfunction Profile(props) {\r\n\tconst [ userData, userDataSet ] = useState([]);\r\n\tconst [ timelines, timelinesSet ] = useState([]);\r\n\tconst [ showEdit, showEditSet ] = useState(false);\r\n\tconst [ editType, editTypeSet ] = useState(null);\r\n\tconst [ chosenId, chosenIdSet ] = useState(null);\r\n\tconst [ timelineData, timelineDataSet ] = useState(null);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconst fetchProfile = () => {\r\n\t\t\t\tfetch(URL + 'user_timelines/' + props.firebase.auth.W)\r\n\t\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t\t.then((json) => timelinesSet(json));\r\n\t\t\t};\r\n\t\t\tconst findUser = () => {\r\n\t\t\t\tprops.firebase.user(props.firebase.auth.W).once('value', (snapshot) => {\r\n\t\t\t\t\tuserDataSet(snapshot.val());\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tfindUser();\r\n\t\t\tfetchProfile();\r\n\r\n\t\t\treturn function cleanUp() {\r\n\t\t\t\tprops.firebase.user(props.firebase.auth.W).off();\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ props.firebase ]\r\n\t);\r\n\r\n\tconst handleEdit = (id, timeline) => {\r\n\t\ttimelineDataSet(timeline);\r\n\t\tchosenIdSet(id);\r\n\t\teditTypeSet('edit');\r\n\t\tshowEditSet(true);\r\n\t};\r\n\r\n\tconst handlePublish = (id) => {\r\n\t\tchosenIdSet(id);\r\n\t\teditTypeSet('publish');\r\n\t\tshowEditSet(true);\r\n\t};\r\n\r\n\tconst handleDelete = (id) => {\r\n\t\tchosenIdSet(id);\r\n\t\teditTypeSet('delete');\r\n\t\tshowEditSet(true);\r\n\t};\r\n\r\n\tconst handleCloseForm = () => {\r\n\t\tshowEditSet(false);\r\n\t};\r\n\r\n\tconst removeTimeline = (id) => {\r\n\t\ttimelinesSet(\r\n\t\t\ttimelines.filter((obj) => {\r\n\t\t\t\treturn obj.id !== id;\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst replaceTimelineData = (data) => {\r\n\t\ttimelinesSet(timelines.map((obj) => (obj.id === data.id ? data : obj)));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"profile-page\">\r\n\t\t\t{timelines.message ? (\r\n\t\t\t\t<NewTimeline />\r\n\t\t\t) : timelines ? (\r\n\t\t\t\t<div className=\"timeline-info\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t<div>My Timelines </div>\r\n\t\t\t\t\t\t\t<Link to=\"/create\">\r\n\t\t\t\t\t\t\t\t<AddBoxIcon />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t{showEdit ? (\r\n\t\t\t\t\t\t\t<div className=\"edit-form\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{editType === 'edit' ? (\r\n\t\t\t\t\t\t\t\t\t\t<EditTimeline\r\n\t\t\t\t\t\t\t\t\t\t\thandleCloseForm={handleCloseForm}\r\n\t\t\t\t\t\t\t\t\t\t\ttimelineId={chosenId}\r\n\t\t\t\t\t\t\t\t\t\t\ttimelineData={timelineData}\r\n\t\t\t\t\t\t\t\t\t\t\treplaceTimelineData={replaceTimelineData}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : editType === 'publish' ? (\r\n\t\t\t\t\t\t\t\t\t\t<PublishTimeline\r\n\t\t\t\t\t\t\t\t\t\t\thandleCloseForm={handleCloseForm}\r\n\t\t\t\t\t\t\t\t\t\t\ttimelineId={chosenId}\r\n\t\t\t\t\t\t\t\t\t\t\treplaceTimelineData={replaceTimelineData}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<DeleteTimeline\r\n\t\t\t\t\t\t\t\t\t\t\thandleCloseForm={handleCloseForm}\r\n\t\t\t\t\t\t\t\t\t\t\ttimelineId={chosenId}\r\n\t\t\t\t\t\t\t\t\t\t\tremoveTimeline={removeTimeline}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<div className=\"timeline-container\">\r\n\t\t\t\t\t\t\t{timelines ? (\r\n\t\t\t\t\t\t\t\ttimelines.map((timeline, i) => (\r\n\t\t\t\t\t\t\t\t\t<div key={i}>\r\n\t\t\t\t\t\t\t\t\t\t<TimelineCard data={timeline} />\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={showEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleEdit(timeline.id, timeline);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={showEdit || userData.email === 'guest@gmail.com'}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handlePublish(timeline.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{timeline.status === 'edit' ? <VisibilityOffIcon /> : <PublicIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"edit\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={showEdit}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleDelete(timeline.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>Loading</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"user-info\">\r\n\t\t\t\t<h2>My Info</h2>\r\n\t\t\t\t<div>USERNAME: {userData.username}</div>\r\n\t\t\t\t<div>EMAIL: {userData.email}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n// This line of code makes sure that user is logged in or else they can't access this page\r\nconst authCondition = (authUser) => !!authUser;\r\nexport default withAuthorization(authCondition)(Profile);\r\n","import React, { useEffect, useState } from 'react';\r\n\r\n// components\r\nimport TimelineCard from './Cards/TimelineCard.component';\r\n\r\n// URL\r\nimport { URL } from '../../urlEnv/index';\r\n\r\n// css\r\nimport './AllTimelinesContainer.style.css';\r\n\r\nfunction AllTimelineContainer() {\r\n\tconst [ timelines, timelinesSet ] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(URL + 'timelines').then((response) => response.json()).then((json) => timelinesSet(json));\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"browse-timeliens-page\">\r\n\t\t\t<div className=\"all-timelines-container\">\r\n\t\t\t\t{timelines ? timelines.map((timeline, i) => <TimelineCard data={timeline} key={i} />) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default AllTimelineContainer;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction ErrorPage({ response }) {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>{response ? response.status : null} ERROR</h1>\r\n\t\t\t<Link to=\"/\">Home</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default ErrorPage;\r\n","import React, { useState } from 'react';\r\n\r\n// Component\r\nimport CountryRegionMUISelectors from '../Selector/CountryRegionMUISelectors.component';\r\n\r\n// Links\r\nimport { URL } from '../../../urlEnv';\r\n\r\n// style\r\nimport { Button, FormControl, TextField, Select, MenuItem } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport './NewEventButton.style.css';\r\n\r\nfunction NewEventButton({ maker_id, firebase_id, events, eventDataSet, eventData, timelineId }) {\r\n\tconst [ showForm, showFormSet ] = useState(false);\r\n\tconst [ snippet, snippetSet ] = useState('');\r\n\tconst [ details, detailsSet ] = useState('');\r\n\tconst [ scale, scaleSet ] = useState('Scale');\r\n\tconst [ type, typeSet ] = useState('Type');\r\n\tconst [ eventDate, eventDateSet ] = useState('00-00-0000');\r\n\tconst [ country, countrySet ] = useState('');\r\n\tconst [ region, regionSet ] = useState('');\r\n\tconst [ picLink, picLinkSet ] = useState('');\r\n\t// Add Event\r\n\tconst handleAddEvent = () => {\r\n\t\tshowFormSet(true);\r\n\t\tif (!eventData) {\r\n\t\t\teventDataSet(events);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tshowFormSet(false);\r\n\t};\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tlet payload = {\r\n\t\t\tfirebase_id: firebase_id,\r\n\t\t\tsnippet: snippet,\r\n\t\t\tdetails: details,\r\n\t\t\tscale: scale,\r\n\t\t\ttype: type,\r\n\t\t\tcountry: country,\r\n\t\t\tregion: region,\r\n\t\t\tdate: eventDate,\r\n\t\t\timageUrl: picLink,\r\n\t\t\ttimeline_id: timelineId\r\n\t\t};\r\n\t\tfetch(URL + 'events', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify(payload)\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((json) => eventDataSet(eventData.concat(json)), resetForm());\r\n\t};\r\n\r\n\tconst resetForm = () => {\r\n\t\treturn (\r\n\t\t\tshowFormSet(false),\r\n\t\t\tsnippetSet(''),\r\n\t\t\tdetailsSet(''),\r\n\t\t\tscaleSet('Scale'),\r\n\t\t\ttypeSet('Type'),\r\n\t\t\teventDateSet('00-00-0000'),\r\n\t\t\tcountrySet(''),\r\n\t\t\tregionSet(''),\r\n\t\t\tpicLinkSet('')\r\n\t\t);\r\n\t};\r\n\r\n\tif (maker_id !== firebase_id) {\r\n\t\treturn <div />;\r\n\t}\r\n\tif (showForm) {\r\n\t\treturn (\r\n\t\t\t<div className=\"add-event-page\">\r\n\t\t\t\t<Button color=\"primary\" onClick={handleClose}>\r\n\t\t\t\t\t<ClearIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t\t<div className=\"add-event-form\">\r\n\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t<div>Add an Event</div>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel=\"Title\"\r\n\t\t\t\t\t\t\tname=\"snippet\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tvalue={snippet}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsnippetSet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"type\">\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<Select label=\"Scale\" value={scale} onChange={(e) => scaleSet(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t<MenuItem aria-label=\"None\" disabled value=\"Scale\">\r\n\t\t\t\t\t\t\t\t\t\tScale\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={'Major'}>Major</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={'Minor'}>Minor</MenuItem>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t<Select label=\"Type\" value={type} onChange={(e) => typeSet(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t<MenuItem aria-label=\"None\" disabled value=\"Type\">\r\n\t\t\t\t\t\t\t\t\t\tType\r\n\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={'Personal'}>Personal</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={'World'}>World</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={'Country'}>Country</MenuItem>\r\n\t\t\t\t\t\t\t\t\t<MenuItem value={'Region'}>Region</MenuItem>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</FormControl>\r\n\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tid=\"date\"\r\n\t\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\t\tvalue={eventDate}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\teventDateSet(e.target.value);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<CountryRegionMUISelectors\r\n\t\t\t\t\t\t\thandleCountry={countrySet}\r\n\t\t\t\t\t\t\thandleRegion={regionSet}\r\n\t\t\t\t\t\t\tcountry={country}\r\n\t\t\t\t\t\t\tregion={region}\r\n\t\t\t\t\t\t\tspecs={type}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tclassName=\"details\"\r\n\t\t\t\t\t\t\tlabel=\"Details\"\r\n\t\t\t\t\t\t\tname=\"details\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\tvalue={details}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tdetailsSet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel=\"picture location URL (optional)\"\r\n\t\t\t\t\t\t\tid=\"picLink\"\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tvalue={picLink}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tpicLinkSet(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t\t\t!snippet || scale === 'Scale' || type === 'Type' || !details || eventDate === '00-00-0000'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</FormControl>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div className=\"add-event-page\">\r\n\t\t\t\t<Button color=\"primary\" onClick={handleAddEvent}>\r\n\t\t\t\t\t<AddIcon />\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NewEventButton;\r\n","import React, { useState } from 'react';\r\nimport { FormControl, TextField, Button, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { URL } from '../../../urlEnv';\r\n\r\nimport './EditEvent.style.css';\r\nfunction EditEvent({ event_data, firebase_id, updateEventData, showEditBoxSet, showDetailBoxSet }) {\r\n\tconst { date, details, imageText, imageUrl, scale, snippet, user_id } = event_data;\r\n\tconst [ Fdetails, FdetailsSet ] = useState(details);\r\n\tconst [ Fsnippet, FsnippetSet ] = useState(snippet);\r\n\tconst [ FimageUrl, FimageUrlSet ] = useState(imageUrl);\r\n\tconst [ FimageText, FimageTextSet ] = useState(imageText);\r\n\tconst [ Fdate, FdateSet ] = useState(date);\r\n\r\n\tconst handleSubmit = () => {\r\n\t\tlet payload = {\r\n\t\t\tdetails: Fdetails,\r\n\t\t\tsnippet: Fsnippet,\r\n\t\t\timageUrl: FimageUrl,\r\n\t\t\timageText: FimageText,\r\n\t\t\tdate: Fdate\r\n\t\t};\r\n\r\n\t\tfetch(URL + 'events/' + event_data.id, {\r\n\t\t\tmethod: 'PATCH',\r\n\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\tbody: JSON.stringify(payload)\r\n\t\t})\r\n\t\t\t.then((response) => response.json())\r\n\t\t\t.then((json) => updateEventData(json), showEditBoxSet(false));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"edit-event\">\r\n\t\t\t<FormControl className=\"form\">\r\n\t\t\t\t<h4>Edit Event</h4>\r\n\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Snippet\"\r\n\t\t\t\t\tname=\"snippet\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\tvalue={Fsnippet}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tFsnippetSet(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Details\"\r\n\t\t\t\t\tname=\"details\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t// disabled\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\tvalue={Fdetails}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tFdetailsSet(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Image URL\"\r\n\t\t\t\t\tname=\"imageUrl\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\tvalue={FimageUrl}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tFimageUrlSet(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Image Text\"\r\n\t\t\t\t\tname=\"imageText\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tclassName=\"input\"\r\n\t\t\t\t\tvalue={FimageText ? FimageText : ''}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tFimageTextSet(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\tname=\"date\"\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tclassName=\"date\"\r\n\t\t\t\t\tvalue={Fdate}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tFdateSet(e.target.value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t<Button variant=\"contained\" className=\"submit\" color=\"primary\" onClick={handleSubmit}>\r\n\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant=\"contained\" className=\"submit\" color=\"secondary\" onClick={() => showEditBoxSet(false)}>\r\n\t\t\t\t\t\t<CancelIcon />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default EditEvent;\r\n","import React, { useState, useRef } from 'react';\r\n// Components\r\nimport Event from './Event/Event.component';\r\nimport ErrorPage from '../ErrorPage/ErrorPage.component';\r\nimport NewEventButton from '../Forms/NewEvent/NewEventButton';\r\nimport EditEvent from '../Forms/EditEvent/EditEvent.component';\r\n\r\n// Hook\r\nimport { useResize } from '../../hooks/windowSize';\r\nimport { useFetch } from '../../hooks/useFetch';\r\n\r\n// Auth\r\nimport { withAuthorization } from '../../authentication/Session';\r\n\r\n// Styles\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Button, Slider } from '@material-ui/core';\r\nimport './Timeline.style.css';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport NotInterestedIcon from '@material-ui/icons/NotInterested';\r\n//URL\r\nimport { URL } from '../../urlEnv/index';\r\n\r\n// React Dom\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n// for inline styling\r\nconst useStyles = makeStyles((theme) => ({\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(0.5)\r\n\t}\r\n}));\r\n\r\nfunction Timeline(props) {\r\n\t// current date\r\n\tlet d = new Date();\r\n\t// React Router Hook\r\n\tconst history = useHistory();\r\n\t// Fetch Hook\r\n\tconst [ response, loading, hasError ] = useFetch(URL + 'timelines/' + props.match.params.id);\r\n\r\n\t// State\r\n\tlet [ filters, filtersSet ] = useState([]);\r\n\tlet [ ageRange, ageRangeSet ] = useState([ 0, null ]);\r\n\tlet [ eventData, eventDataSet ] = useState(null);\r\n\tlet [ selectedEvent, selectedEventSet ] = useState(null);\r\n\tlet [ showDetailBox, showDetailBoxSet ] = useState(false);\r\n\tlet [ showEditBox, showEditBoxSet ] = useState(false);\r\n\tlet [ deleteConfirm, deleteConfirmSet ] = useState(false);\r\n\r\n\t// TEMPORARY LIKE STATE\r\n\tlet [ like, likeSet ] = useState(false);\r\n\r\n\t// Style Hook\r\n\tconst inlineStyles = useStyles();\r\n\r\n\t// Window size Hook\r\n\tconst componentRef = useRef();\r\n\tconst { width } = useResize(componentRef, loading);\r\n\r\n\t// response filter\r\n\tif (loading) {\r\n\t\treturn <div ref={componentRef}>Loading</div>;\r\n\t}\r\n\tif (hasError) {\r\n\t\treturn <div ref={componentRef}>Has Error</div>;\r\n\t}\r\n\r\n\tif (response !== false && response !== null && response.status !== 404) {\r\n\t\tconst { title, picture, person, events, user, status, id: timelineId, person_id, user_id } = response;\r\n\t\tconst { username } = user;\r\n\r\n\t\tconst { birthday, deathday } = person;\r\n\r\n\t\t// Button Color\r\n\t\tconst buttonTypes = [\r\n\t\t\t{ name: 'Major', color: 'secondary' },\r\n\t\t\t{ name: 'Minor', color: 'secondary' },\r\n\t\t\t{ name: 'Personal', color: 'primary' },\r\n\t\t\t{ name: 'World', color: 'primary' },\r\n\t\t\t{ name: 'Country', color: 'primary' },\r\n\t\t\t{ name: 'City', color: 'primary' }\r\n\t\t];\r\n\r\n\t\t// Sort events + filter events\r\n\t\tconst sortEvents = (event_data) => {\r\n\t\t\tlet sorted = event_data.sort((a, b) => findYear(a.date) > findYear(b.date));\r\n\t\t\treturn sorted.map((event, i) => ({ ...event, sortedOrder: i }));\r\n\t\t};\r\n\t\tconst processFilterClick = (e) => {\r\n\t\t\tlet value = e.currentTarget.name;\r\n\t\t\tif (value === 'Major' && filters.includes('Minor')) {\r\n\t\t\t\tfiltersSet(filters.filter((item) => item !== 'Minor').concat(value));\r\n\t\t\t} else if (value === 'Minor' && filters.includes('Major')) {\r\n\t\t\t\tfiltersSet(filters.filter((item) => item !== 'Major').concat(value));\r\n\t\t\t} else if (filters.includes(value)) {\r\n\t\t\t\tfiltersSet(filters.filter((item) => item !== value));\r\n\t\t\t} else {\r\n\t\t\t\tfiltersSet(filters.concat(value));\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst filterEventsByCategory = (event_data) => {\r\n\t\t\tlet arr = event_data;\r\n\t\t\tfor (let i = 0; i < filters.length; i++) {\r\n\t\t\t\tarr = arr.filter((event) => ![ event.instance_type, event.scale ].includes(filters[i]));\r\n\t\t\t}\r\n\t\t\treturn arr;\r\n\t\t};\r\n\r\n\t\t// Converts date data to just year\r\n\t\tconst findYear = (num_string) => {\r\n\t\t\treturn num_string.split('-')[0];\r\n\t\t};\r\n\r\n\t\tconst currentAge = (event) => {\r\n\t\t\treturn findYear(event.date) - findYear(birthday);\r\n\t\t};\r\n\t\tconst filterEventsByAge = (event_data) => {\r\n\t\t\tif (ageRange[1]) {\r\n\t\t\t\treturn event_data.filter((event) => currentAge(event) >= ageRange[0] && currentAge(event) <= ageRange[1]);\r\n\t\t\t} else {\r\n\t\t\t\treturn event_data;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst handleSlider = (e, newValue) => {\r\n\t\t\t// Set min difference to 5\r\n\t\t\tif (newValue[1] - newValue[0] >= 1 && newValue !== ageRange) {\r\n\t\t\t\tageRangeSet(newValue);\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst deathAge = () => {\r\n\t\t\treturn findYear(deathday) - findYear(birthday);\r\n\t\t};\r\n\r\n\t\tconst currentAgeToDate = () => {\r\n\t\t\treturn d.getFullYear() - findYear(birthday);\r\n\t\t};\r\n\t\tconst roundUpTen = (num) => {\r\n\t\t\treturn Math.ceil((num + 1) / 10) * 10;\r\n\t\t};\r\n\r\n\t\t// Line-Marker\r\n\t\tconst lineMarkers = () => {\r\n\t\t\tlet distance = '';\r\n\t\t\tageRange[1]\r\n\t\t\t\t? (distance = ageRange[1] - ageRange[0])\r\n\t\t\t\t: deathday ? (distance = deathAge() - ageRange[0]) : (distance = currentAgeToDate() - ageRange[0]);\r\n\r\n\t\t\tlet eqDistance = distance / 10;\r\n\t\t\tlet arr = [];\r\n\t\t\tfor (let i = 1; i < 10; i++) {\r\n\t\t\t\t// arr.push((eqDistance * i).toFixed(1));\r\n\r\n\t\t\t\tarr.push(eqDistance * i);\r\n\t\t\t}\r\n\r\n\t\t\tlet currentRange = ageRange[1] - ageRange[0];\r\n\t\t\tlet markers = arr.map((num) => Math.floor(num + parseInt(findYear(birthday)) + ageRange[0]).toString());\r\n\t\t\tlet uniqueMarkers = [ ...new Set(markers) ];\r\n\r\n\t\t\tif (distance >= 10) {\r\n\t\t\t\treturn uniqueMarkers;\r\n\t\t\t} else {\r\n\t\t\t\tuniqueMarkers.shift();\r\n\t\t\t\treturn uniqueMarkers;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Edit Event\r\n\t\tconst handleEdit = () => {\r\n\t\t\tshowEditBoxSet(true);\r\n\t\t};\r\n\r\n\t\t// Delete Event\r\n\t\tconst handleDelete = (event_id) => {\r\n\t\t\tconst deleteEvent = (eventId) => {\r\n\t\t\t\tif (eventData) {\r\n\t\t\t\t\teventDataSet(eventData.filter((event) => event.id !== eventId));\r\n\t\t\t\t} else {\r\n\t\t\t\t\teventDataSet(events.filter((event) => event.id !== eventId));\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfetch(URL + 'ets/' + timelineId, {\r\n\t\t\t\tmethod: 'DELETE',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify({ eventId: event_id })\r\n\t\t\t})\r\n\t\t\t\t.then((res) => res.json())\r\n\t\t\t\t.then((json) => deleteEvent(event_id), showDetailBoxSet(false));\r\n\t\t};\r\n\r\n\t\t// update Event\r\n\t\tconst updateEventData = (data) => {\r\n\t\t\tif (eventData) {\r\n\t\t\t\teventDataSet(eventData.map((event) => (event.id === data.id ? data : event)));\r\n\t\t\t} else {\r\n\t\t\t\teventDataSet(events.map((event) => (event.id === data.id ? data : event)));\r\n\t\t\t}\r\n\t\t\tselectedEventSet(data);\r\n\t\t};\r\n\r\n\t\t// find date as percentage of year\r\n\t\tconst findDatePercent = (date) => {\r\n\t\t\tlet month = date.split('-')[1];\r\n\t\t\tlet day = date.split('-')[2];\r\n\t\t\tlet greater = month / 12;\r\n\r\n\t\t\tlet lesser = day / 365;\r\n\r\n\t\t\treturn greater + lesser;\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"timeline-component\" ref={componentRef}>\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<Button color=\"primary\" onClick={() => history.goBack()}>\r\n\t\t\t\t\t\t<ArrowBackIcon />\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<h2 className=\"title\">\r\n\t\t\t\t\t\t{title} : {person.name}\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<div className=\"header-item\">\r\n\t\t\t\t\t\t<NewEventButton\r\n\t\t\t\t\t\t\tmaker_id={user.firebase_id}\r\n\t\t\t\t\t\t\tfirebase_id={props.firebase.auth.W}\r\n\t\t\t\t\t\t\tevents={events}\r\n\t\t\t\t\t\t\teventData={eventData}\r\n\t\t\t\t\t\t\teventDataSet={eventDataSet}\r\n\t\t\t\t\t\t\ttimelineId={timelineId}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<div className=\"author\">Made by: {username}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"filters\">\r\n\t\t\t\t\t{buttonTypes.map((button, i) => (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName={`${button.name} ${inlineStyles.margin}`}\r\n\t\t\t\t\t\t\tname={button.name}\r\n\t\t\t\t\t\t\tcolor={button.color}\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant={filters.includes(button.name) ? 'outlined' : 'contained'}\r\n\t\t\t\t\t\t\tonClick={processFilterClick}\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{button.name}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t))}\r\n\r\n\t\t\t\t\t<Slider\r\n\t\t\t\t\t\tdefaultValue={[ 0, deathday ? deathAge() : currentAgeToDate() ]}\r\n\t\t\t\t\t\tvalue={ageRange[1] ? ageRange : deathday ? [ 0, deathAge() ] : [ 0, currentAgeToDate() ]}\r\n\t\t\t\t\t\tonChange={handleSlider}\r\n\t\t\t\t\t\taria-labelledby=\"range-slider\"\r\n\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\tmax={deathday ? deathAge() : currentAgeToDate()}\r\n\t\t\t\t\t\tvalueLabelDisplay=\"auto\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{showDetailBox ? (\r\n\t\t\t\t\t<div className=\"description-box\">\r\n\t\t\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tlikeSet(!like);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{like ? <FavoriteIcon /> : <FavoriteBorderIcon />}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<h3>{selectedEvent.snippet}</h3>\r\n\r\n\t\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t\t<CloseIcon\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tshowDetailBoxSet(false);\r\n\t\t\t\t\t\t\t\t\t\tlikeSet(false);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"text\">{selectedEvent.details}</div>\r\n\t\t\t\t\t\t{selectedEvent.imageUrl ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"detail-image\"\r\n\t\t\t\t\t\t\t\t\tsrc={selectedEvent.imageUrl}\r\n\t\t\t\t\t\t\t\t\talt={selectedEvent.imageText ? selectedEvent.imageText : ''}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{selectedEvent.imageText ? <p className=\"image-details\">{selectedEvent.imageText}</p> : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{showEditBox ? (\r\n\t\t\t\t\t\t\t<EditEvent\r\n\t\t\t\t\t\t\t\tevent_data={selectedEvent}\r\n\t\t\t\t\t\t\t\tfirebase_id={props.firebase.auth.W}\r\n\t\t\t\t\t\t\t\tupdateEventData={updateEventData}\r\n\t\t\t\t\t\t\t\tshowEditBoxSet={showEditBoxSet}\r\n\t\t\t\t\t\t\t\tshowDetailBoxSet={showDetailBoxSet}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{props.firebase.auth.W === user.firebase_id ? (\r\n\t\t\t\t\t\t\t<div className=\"edit-button\">\r\n\t\t\t\t\t\t\t\t<Button onClick={handleEdit}>\r\n\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => deleteConfirmSet(true)}>\r\n\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{deleteConfirm ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<div>Are you Sure?</div>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleDelete(selectedEvent.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteConfirmSet(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteConfirmSet(false);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<NotInterestedIcon />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t<div className=\"date\">{selectedEvent.date}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className=\"timeline-box\">\r\n\t\t\t\t\t<div className=\"birth year\">{parseInt(findYear(birthday)) + ageRange[0]}</div>\r\n\r\n\t\t\t\t\t<div className=\"events\">\r\n\t\t\t\t\t\t<div className=\"timeline-line\">\r\n\t\t\t\t\t\t\t{lineMarkers() ? (\r\n\t\t\t\t\t\t\t\tlineMarkers().map((marker, i) => <div className=\"timeline-markers\" key={i}>{`${marker}`}</div>)\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"timeline-markers\">Halfway</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"event-container\">\r\n\t\t\t\t\t\t\t{filterEventsByAge(\r\n\t\t\t\t\t\t\t\tfilterEventsByCategory(sortEvents(eventData ? eventData : events))\r\n\t\t\t\t\t\t\t).map((event, i) => (\r\n\t\t\t\t\t\t\t\t// {filterEventsByAge(sortEvents(events)).map((event, i) => (\r\n\t\t\t\t\t\t\t\t<Event\r\n\t\t\t\t\t\t\t\t\tevent_data={event}\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tindex={i}\r\n\t\t\t\t\t\t\t\t\tcurrentAge={findYear(event.date) - findYear(birthday) + findDatePercent(event.date)}\r\n\t\t\t\t\t\t\t\t\tbirthyear={findYear(birthday)}\r\n\t\t\t\t\t\t\t\t\tageRange={ageRange[1] ? ageRange : deathday ? [ 0, deathAge() ] : [ 0, currentAgeToDate() ]}\r\n\t\t\t\t\t\t\t\t\txAdjustment={width - 665}\r\n\t\t\t\t\t\t\t\t\tfilters={filters}\r\n\t\t\t\t\t\t\t\t\tselectedEventSet={selectedEventSet}\r\n\t\t\t\t\t\t\t\t\tshowDetailBoxSet={showDetailBoxSet}\r\n\t\t\t\t\t\t\t\t\tbirthday={birthday}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"death year\">\r\n\t\t\t\t\t\t{parseInt(findYear(birthday)) +\r\n\t\t\t\t\t\t\t(ageRange[1] ? ageRange[1] : deathday ? deathAge() : currentAgeToDate())}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn <ErrorPage response={response} />;\r\n\t}\r\n}\r\n\r\n// export default Timeline;\r\n\r\nconst authCondition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(authCondition)(Timeline);\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport const useResize = (myRef, loading) => {\r\n\tconst [ dimensions, setDimensions ] = useState({ width: 0, height: 0 });\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tconst getDimensions = () => ({\r\n\t\t\t\twidth: myRef.current.offsetWidth,\r\n\t\t\t\theight: myRef.current.offsetHeight\r\n\t\t\t});\r\n\t\t\tconst handleResize = () => {\r\n\t\t\t\tsetDimensions(getDimensions());\r\n\t\t\t};\r\n\r\n\t\t\tif (myRef.current) {\r\n\t\t\t\tsetDimensions(getDimensions());\r\n\t\t\t}\r\n\r\n\t\t\twindow.addEventListener('resize', handleResize);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener('resize', handleResize);\r\n\t\t\t};\r\n\t\t},\r\n\t\t[ myRef, loading ]\r\n\t);\r\n\r\n\treturn dimensions;\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport './index.css';\r\n\r\nconst SignUpPage = () => (\r\n\t<div>\r\n\t\t<h4>Sign Up Form</h4>\r\n\t\t<SignUpForm />\r\n\t</div>\r\n);\r\n// Setting an initial state so we can reset after successful signup\r\nconst INITIAL_STATE = {\r\n\tusername: '',\r\n\temail: '',\r\n\tpasswordOne: '',\r\n\tpasswordTwo: '',\r\n\tfirebaseID: '',\r\n\terror: null\r\n};\r\n\r\nclass SignUpFormBase extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = (event) => {\r\n\t\tconst { username, email, passwordOne } = this.state;\r\n\t\tthis.props.firebase\r\n\t\t\t.doCreateUserWithEmailAndPassword(email, passwordOne)\r\n\t\t\t//* saves user into firebase realtime database\r\n\t\t\t.then((authUser) => {\r\n\t\t\t\t// console.log(authUser.W, username);\r\n\t\t\t\treturn this.props.firebase.user(authUser.user.uid).set({\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\temail\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t//* resets signup form state & sends user to home page\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t\tthis.props.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\t// onChange handler allows input fields to capture & update local state information\r\n\tonChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { username, email, passwordOne, passwordTwo, error } = this.state;\r\n\t\t// Validation logic\r\n\t\tconst isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '';\r\n\t\treturn (\r\n\t\t\t<div className=\"signuppage\">\r\n\t\t\t\t<form onSubmit={this.onSubmit} className=\"signup\">\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tclassName=\"textinput\"\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tclassName=\"textinput\"\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tclassName=\"textinput\"\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\tname=\"passwordOne\"\r\n\t\t\t\t\t\tvalue={passwordOne}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tclassName=\"textinput\"\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tlabel=\"Confirm Password\"\r\n\t\t\t\t\t\tname=\"passwordTwo\"\r\n\t\t\t\t\t\tvalue={passwordTwo}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<Button type=\"submit\" disabled={isInvalid}>\r\n\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst SignUpLink = () => {\r\n\treturn (\r\n\t\t<p>\r\n\t\t\tDon't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\r\n\t\t</p>\r\n\t);\r\n};\r\n\r\n//* uses (withFirebase & withRouter) higher-order component here\r\n// const SignUpForm = withRouter(withFirebase(SignUpFormBase)); << refactored with compose bellow\r\nconst SignUpForm = compose(withRouter, withFirebase)(SignUpFormBase);\r\n\r\nexport default SignUpPage;\r\n\r\nexport { SignUpForm, SignUpLink };\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nconst PasswordForgetPage = () => (\r\n\t<div>\r\n\t\t<h1>PasswordForget</h1>\r\n\t\t<PasswordForgetForm />\r\n\t</div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n\temail: '',\r\n\terror: null\r\n};\r\n\r\nclass PasswordForgetFormBase extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = (event) => {\r\n\t\tconst { email } = this.state;\r\n\r\n\t\tthis.props.firebase\r\n\t\t\t.doPasswordReset(email)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tonChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { email, error } = this.state;\r\n\r\n\t\tconst isInvalid = email === '';\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\tvalue={this.state.email}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tplaceholder=\"Email Address\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button disabled={isInvalid} type=\"submit\">\r\n\t\t\t\t\tReset My Password\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst PasswordForgetLink = () => (\r\n\t<p>\r\n\t\t<Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\r\n\t</p>\r\n);\r\n\r\nexport default PasswordForgetPage;\r\n\r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n\r\nexport { PasswordForgetForm, PasswordForgetLink };\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\n\r\nimport { SignUpLink } from '../SignUp';\r\nimport { PasswordForgetLink } from '../PasswordForget';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport './index.css';\r\n\r\nconst SignInPage = () => (\r\n\t<div>\r\n\t\t<h4>Sign In Form</h4>\r\n\t\t<SignInForm />\r\n\t</div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n\temail: '',\r\n\tpassword: '',\r\n\terror: null\r\n};\r\n\r\nclass SignInFormBase extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = (event) => {\r\n\t\tconst { email, password } = this.state;\r\n\t\tthis.props.firebase\r\n\t\t\t.doSignInWithEmailAndPassword(email, password)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t\tthis.props.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tonChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\tguestSignIn = (event) => {\r\n\t\tthis.props.firebase\r\n\t\t\t.doSignInWithEmailAndPassword('guest@gmail.com', '123456')\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t\tthis.props.history.push(ROUTES.HOME);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { email, password, error } = this.state;\r\n\t\tconst isInvalid = password === '' || email === '';\r\n\t\treturn (\r\n\t\t\t<div className=\"signinpage\">\r\n\t\t\t\t<form onSubmit={this.onSubmit} className=\"signin\">\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tclassName=\"textinput\"\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tclassName=\"textinput\"\r\n\t\t\t\t\t\tid=\"standard-basic\"\r\n\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" color={isInvalid ? 'default' : 'primary'}>\r\n\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={this.guestSignIn} variant=\"contained\">\r\n\t\t\t\t\t\t\tGuest Login\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{error ? <p>{error.message}</p> : null}\r\n\t\t\t\t</form>\r\n\t\t\t\t<div className=\"xtralinks\">\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<PasswordForgetLink />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<SignUpLink />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nconst SignInForm = compose(withRouter, withFirebase)(SignInFormBase);\r\n\r\nexport default SignInPage;\r\nexport { SignInForm };\r\n","import React, { Component } from 'react';\r\n\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst INITIAL_STATE = {\r\n\tpasswordOne: '',\r\n\tpasswordTwo: '',\r\n\terror: null\r\n};\r\n\r\nclass PasswordChangeForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = (event) => {\r\n\t\tconst { passwordOne } = this.state;\r\n\r\n\t\tthis.props.firebase\r\n\t\t\t.doPasswordUpdate(passwordOne)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tthis.setState({ error });\r\n\t\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t};\r\n\r\n\tonChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { passwordOne, passwordTwo, error } = this.state;\r\n\r\n\t\tconst isInvalid = passwordOne !== passwordTwo || passwordOne === '';\r\n\r\n\t\treturn (\r\n\t\t\t<form onSubmit={this.onSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"passwordOne\"\r\n\t\t\t\t\tvalue={passwordOne}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"New Password\"\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"passwordTwo\"\r\n\t\t\t\t\tvalue={passwordTwo}\r\n\t\t\t\t\tonChange={this.onChange}\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Confirm New Password\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button disabled={isInvalid} type=\"submit\">\r\n\t\t\t\t\tReset My Password\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withFirebase(PasswordChangeForm);\r\n","import React from 'react';\r\n\r\nimport { AuthUserContext, withAuthorization } from '../Session';\r\nimport { PasswordForgetForm } from '../PasswordForget';\r\nimport PasswordChangeForm from '../PasswordChange';\r\n// import {  } from '../Session';\r\n\r\nconst AccountPage = (props) => {\r\n\tconsole.log(props.firebase.W);\r\n\treturn (\r\n\t\t<AuthUserContext.Consumer>\r\n\t\t\t{(authUser) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Account: {authUser.email}</h1>\r\n\t\t\t\t\t<PasswordForgetForm />\r\n\t\t\t\t\t<PasswordChangeForm />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</AuthUserContext.Consumer>\r\n\t);\r\n};\r\n\r\nconst authCondition = (authUser) => !!authUser;\r\n\r\nexport default withAuthorization(authCondition)(AccountPage);\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { withAuthentication } from '../Session';\r\n\r\nimport SignUpPage from '../SignUp';\r\nimport SignInPage from '../SignIn';\r\nimport PasswordForgetPage from '../PasswordForget';\r\nimport AccountPage from '../Account';\r\n\r\nconst Authentication = () => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Route exact path={ROUTES.SIGN_UP} component={SignUpPage} />\r\n\t\t\t<Route exact path={ROUTES.SIGN_IN} component={SignInPage} />\r\n\t\t\t<Route exact path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage} />\r\n\t\t\t<Route exact path={ROUTES.ACCOUNT} component={AccountPage} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withAuthentication(Authentication);\r\n","import React from 'react';\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\n\r\nimport Navbar from './components/Navbar/Navbar.component';\r\nimport HomePage from './Pages/HomePage/HomePage.component';\r\nimport Profile from './components/Profile/Profile.component';\r\nimport AllTimelinesContainer from './components/Containers/AllTimelinesContainer.component';\r\nimport Timeline from './components/Timeline/Timeline.component';\r\nimport NewTimeline from './components/Forms/NewTimeline/NewTimeline.component';\r\n\r\n// Routes / path\r\nimport { ROUTES } from './urlEnv';\r\n\r\n// Authentication\r\nimport Authentication from './authentication/Main/Authentication.component';\r\nimport { withAuthentication } from './authentication/Session';\r\n\r\nimport './App.css';\r\nfunction App(props) {\r\n\t// console.log(props);\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<Navbar />\r\n\t\t\t</div>\r\n\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path={ROUTES.HOME} component={HomePage} />\r\n\t\t\t\t<Route exact path={ROUTES.TIMELINES} component={AllTimelinesContainer} />\r\n\t\t\t\t<Route exact path={ROUTES.PROFILE} component={Profile} />\r\n\t\t\t\t<Route path={ROUTES.TIMELINE} component={Timeline} />\r\n\t\t\t\t<Route exact path={ROUTES.CREATE} component={NewTimeline} />\r\n\t\t\t\t<Authentication />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nexport default withAuthentication(App);\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: state => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: state => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\nexport const incrementAsync = amount => dispatch => {\r\n  setTimeout(() => {\r\n    dispatch(incrementByAmount(amount));\r\n  }, 1000);\r\n};\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\nexport const selectCount = state => state.counter.value;\r\n\r\nexport default counterSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport counterReducer from '../features/counter/counterSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport * as serviceWorker from './serviceWorker';\r\nimport Firebase, { FirebaseContext } from './authentication/Firebase';\r\n\r\nReactDOM.render(\r\n\t<FirebaseContext.Provider value={new Firebase()}>\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</FirebaseContext.Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}