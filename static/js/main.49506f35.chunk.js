(this.webpackJsonpfront_end=this.webpackJsonpfront_end||[]).push([[0],{116:function(e,t,a){e.exports=a(149)},121:function(e,t,a){},122:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),i=a.n(l),c=(a(121),a(9)),o=a(37),u=a(4),s=(a(122),a(181)),m=a(182),d=a(183),f=a(184),E=a(105),p=a(190),b=a(89),h=a.n(b),v=r.a.createContext(null),g=function(e){return function(t){return r.a.createElement(v.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},j=v,O=a(21),y=a(69),C=a.n(y),S=(a(123),a(125),{apiKey:"AIzaSyAMzjFxpZFjYDuTWlhKlv-GaAiXyFqF0do",authDomain:"mod5-timeline.firebaseapp.com",databaseURL:"https://mod5-timeline.firebaseio.com",projectId:"mod5-timeline",storageBucket:"mod5-timeline.appspot.com",messagingSenderId:"246229182004",appId:"1:246229182004:web:3ff8c57c55db525b204c61",measurementId:"G-5D69TSH040"}),N=function e(){var t=this;Object(O.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},C.a.initializeApp(S),this.auth=C.a.auth(),this.db=C.a.database()},w=a(177),k=g((function(e){var t=e.firebase;return r.a.createElement(w.a,{onClick:t.doSignOut},"Sign Out")})),T=r.a.createContext(null),x=a(24),P=a(27),I=a(26),D=function(e){var t=function(t){Object(P.a)(n,t);var a=Object(I.a)(n);function n(e){var t;return Object(O.a)(this,n),(t=a.call(this,e)).state={authUser:null},t}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(T.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),n}(r.a.Component);return g(t)},A=a(47),U=function(e){return function(t){var a=function(a){Object(P.a)(l,a);var n=Object(I.a)(l);function l(){return Object(O.a)(this,l),n.apply(this,arguments)}return Object(x.a)(l,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(a){e(a)||t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(T.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),l}(r.a.Component);return Object(A.a)(o.g,g)(a)}},M=Object(s.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)}}}));var R=function(e){var t=M(),a=r.a.useState(null),n=Object(u.a)(a,2),l=n[0],i=n[1],s=function(){i(null)};return r.a.createElement("div",{className:t.root+" navbar"},r.a.createElement(m.a,{position:"static"},r.a.createElement(d.a,{variant:"dense"},r.a.createElement(f.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(e){i(e.currentTarget)}},r.a.createElement(h.a,null)),r.a.createElement(T.Consumer,null,(function(e){return e?r.a.createElement(E.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:s,className:"menu-dropdown"},r.a.createElement(p.a,{onClick:s},r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement(p.a,{onClick:s},r.a.createElement(c.b,{to:"/timelines"},"Timelines")),r.a.createElement(p.a,{onClick:s},r.a.createElement(c.b,{to:"/profile"},"Profile")),r.a.createElement(p.a,{onClick:s},r.a.createElement(c.b,{to:"/create"},"Create")),r.a.createElement(p.a,null,r.a.createElement(k,null))):r.a.createElement(E.a,{id:"simple-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:s,className:"menu-dropdown"},r.a.createElement(p.a,{onClick:s},r.a.createElement(c.b,{to:"/"},"Home")),r.a.createElement(p.a,{onClick:s},r.a.createElement(c.b,{to:"/timelines"},"Timelines")),r.a.createElement(p.a,null,r.a.createElement(c.b,{to:"/signin"},"Sign In")),r.a.createElement(p.a,null,r.a.createElement(c.b,{to:"/signup"},"Sign Up")))})),r.a.createElement("div",{className:"title"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},"HOME"),r.a.createElement(o.a,{exact:!0,path:"/timelines"},"BROWSE"),r.a.createElement(o.a,{exact:!0,path:"/profile"},"PROFILE"),r.a.createElement(o.a,{path:"/timeline/:id"},"TIMELINE"),r.a.createElement(o.a,{exact:!0,path:"/create"},"CREATE"))))))};a(134);var W=function(e){return r.a.createElement("div",{className:"homepage"},r.a.createElement("h1",{className:"title"},"PATH"),r.a.createElement("img",{className:"gif",src:"https://cdn.dribbble.com/users/1539152/screenshots/3296884/timeline.gif"}),r.a.createElement("div",{className:"text"},r.a.createElement(T.Consumer,null,(function(e){return e?r.a.createElement("div",null,r.a.createElement("h2",null,"You're Logged in with ",e.email)):r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(c.b,{to:"/signup"},"Create an Account ")," or ",r.a.createElement(c.b,{to:"/signin"},"Signin")," to View & Create your own ",r.a.createElement(c.b,{to:"/timelines"},"Timelines"),"!"))}))))},L="http://localhost:3000/",B=a(187),_=a(189),F=a(64);a(135);var H=function(e){return r.a.createElement("form",{className:"countryRegion"},r.a.createElement(_.a,{id:"country",label:"Country",value:e.country,select:!0,disabled:!!e.specs&&"World"===e.specs,onChange:function(t){return e.handleCountry(t.target.value)}},F.a.map((function(e,t){return r.a.createElement(p.a,{key:e[0],value:e},e[0])}))),r.a.createElement("br",null),r.a.createElement(_.a,{id:"region",label:"Region",value:e.region,select:!0,disabled:!!e.specs&&("Country"===e.specs||"World"===e.specs),onChange:function(t){e.handleRegion(t.target.value)}},(t=e.country,t?t[2].split("|").map((function(e){var t=e.split("~"),a=Object(u.a)(t,2),n=a[0];return a[1],n})):[]).map((function(e,t){return r.a.createElement(p.a,{key:e,value:e},e)}))));var t},z=(a(136),"0000-00-00");var J=U((function(e){return!!e}))((function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],i=a[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(z),f=Object(u.a)(d,2),E=f[0],p=f[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),v=h[0],g=h[1],j=Object(n.useState)([]),O=Object(u.a)(j,2),y=O[0],C=O[1],S=Object(n.useState)(""),N=Object(u.a)(S,2),k=N[0],T=N[1],x=Object(n.useState)(""),P=Object(u.a)(x,2),I=P[0],D=P[1];return Object(n.useEffect)((function(){return e.firebase.user(e.firebase.auth.W).once("value",(function(e){C(e.val())})),function(){e.firebase.user(e.firebase.auth.W).off()}}),[e.firebase]),r.a.createElement("div",{className:"newTimeline"},r.a.createElement("h2",null,"Make a New Timeline"),r.a.createElement(B.a,null,r.a.createElement("div",{className:"text"},r.a.createElement(_.a,{label:"Title",name:"title",variant:"outlined",className:"input",value:l,onChange:function(e){i(e.target.value)}}),r.a.createElement(_.a,{label:"Person",name:"person",variant:"outlined",className:"input",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement("div",{className:"date-field"},r.a.createElement(_.a,{id:"date",type:"date",value:E,className:"input date",helperText:"Birthday",InputLabelProps:{shrink:!0},onChange:function(e){p(e.target.value)}}),r.a.createElement(_.a,{id:"date",name:"deathday",type:"date",value:v,className:"input date",helperText:"Death day (optional)",InputLabelProps:{shrink:!0},onChange:function(e){g(e.target.value)}}))),r.a.createElement("div",{className:"location"},r.a.createElement("h5",null,"Birth Place"),r.a.createElement(H,{handleCountry:T,handleRegion:D,country:k,region:I})),r.a.createElement(w.a,{onClick:function(){var t={title:l,person:s,birthday:E,deathday:v,firebase_id:e.firebase.auth.W,username:y.username,country:k[0],region:I};fetch(L+"timelines",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){return e.history.push("timeline/".concat(t.id))}))},disabled:""===l||""===s||E===z||""===I,variant:"contained",color:"primary"},"Submit")))}));a(137);var G=function(e){var t=e.data,a=Object(n.useState)(!1),l=Object(u.a)(a,2),i=l[0],o=l[1],s=t.title,m=t.id,d=t.person.name,f=(t.user.username,t.picture);return r.a.createElement("div",{className:"timeline-card-frame"},r.a.createElement(c.b,{to:"/timeline/".concat(m),style:{textDecoration:"none"},onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.a.createElement("div",{className:"text"},r.a.createElement("h3",null,s),r.a.createElement("h5",null,d)),r.a.createElement("div",{className:"timeline-card ".concat(i?"slowzoom":null),style:{backgroundImage:"url(".concat(f,")")}})))};a(138);var Y=function(e){var t=e.handleCloseForm,a=e.timelineId,l=e.timelineData,i=e.replaceTimelineData,c=Object(n.useState)(l.title),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(l.person.name),f=Object(u.a)(d,2),E=f[0],b=f[1],h=Object(n.useState)(l.person.birthday),v=Object(u.a)(h,2),g=v[0],j=v[1],O=Object(n.useState)(l.person.deathday),y=Object(u.a)(O,2),C=y[0],S=y[1],N=Object(n.useState)(""),k=Object(u.a)(N,2),T=k[0],x=k[1],P=Object(n.useState)(""),I=Object(u.a)(P,2),D=I[0],A=I[1],U=Object(n.useState)(l.picture),M=Object(u.a)(U,2),R=M[0],W=M[1];return r.a.createElement("div",{className:"newTimeline editTimeline"},r.a.createElement(B.a,{className:"edit"},r.a.createElement("h3",null,"Edit Timeline"),r.a.createElement("div",{className:"text"},r.a.createElement(_.a,{label:"Title",name:"title",variant:"outlined",className:"input",value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement(_.a,{label:"Person",name:"person",variant:"outlined",className:"input",value:E,onChange:function(e){b(e.target.value)}}),r.a.createElement(_.a,{label:"image URL",name:"image URL",variant:"outlined",type:"url",className:"input",value:R,onChange:function(e){W(e.target.value)}}),r.a.createElement("div",{className:"date-field"},r.a.createElement(_.a,{id:"date",type:"date",value:g,className:"input date",helperText:"Birthday",InputLabelProps:{shrink:!0},onChange:function(e){j(e.target.value)}}),r.a.createElement(_.a,{id:"date",name:"deathday",type:"date",value:C||"",className:"input date",helperText:"Death day (optional)",InputLabelProps:{shrink:!0},onChange:function(e){S(e.target.value)}}))),r.a.createElement("div",{className:"location"},r.a.createElement("h5",null,"Birth Place"),r.a.createElement("form",{className:"countryRegion"},r.a.createElement(_.a,{id:"country",label:"Country",value:T||l.person.city.country.name,select:!0,placeholder:l.person.city.country.name,onChange:function(e){return x(e.target.value)}},r.a.createElement(p.a,{value:l.person.city.country.name,disabled:!0},l.person.city.country.name),F.a.map((function(e,t){return r.a.createElement(p.a,{key:e[0],value:e},e[0])}))),r.a.createElement("br",null),r.a.createElement(_.a,{id:"region",label:"Region",value:D||l.person.city.name,select:!0,placeholder:l.person.city.name,onChange:function(e){A(e.target.value)}},r.a.createElement(p.a,{value:l.person.city.name,disabled:!0},l.person.city.name),function(e){return e?e[2].split("|").map((function(e){var t=e.split("~"),a=Object(u.a)(t,2),n=a[0];a[1];return n})):[]}(T).map((function(e,t){return r.a.createElement(p.a,{key:e,value:e},e)}))))),r.a.createElement("div",null,r.a.createElement(w.a,{style:{margin:"5px"},onClick:function(){var e={title:s,birthday:g,deathday:C,person:E,country:T?T[0]:l.person.city.country.name,region:D||l.person.city.name,imgURL:R};console.log("Payload",e),fetch(L+"timelines/"+a,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return i(e)}),t())},disabled:""===s||""===E||"0000-00-00"===g,variant:"contained",color:"primary"},"Submit"),r.a.createElement(w.a,{style:{margin:"5px"},onClick:t,variant:"contained",color:"secondary"},"Cancel"))))};function K(e,t){var a=Object(n.useState)(null),r=Object(u.a)(a,2),l=r[0],i=r[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),s=o[0],m=o[1],d=Object(n.useState)(!1),f=Object(u.a)(d,2),E=f[0],p=f[1];return Object(n.useEffect)((function(){m(!0),fetch(e,t).then((function(e){return e.json()})).then((function(e){i(e),m(!1)})).catch((function(){p(!0),m(!1)}))}),[e,t]),[l,s,E]}a(139);var V=a(43),q=a.n(V);var X=function(e){var t=e.handleCloseForm,a=e.timelineId,n=e.replaceTimelineData,l=K(L+"timelines/"+a),i=Object(u.a)(l,3),c=i[0],o=i[1],s=i[2],m=function(e){if("publish"===e){var r={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"done"})};fetch(L+"timelines/"+a,r).then((function(e){return e.json()})).then((function(e){return t(),n(e)}))}else if("unpublish"===e){var l={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"edit"})};fetch(L+"timelines/"+a,l).then((function(e){return e.json()})).then((function(e){return t(),n(e)}))}};return r.a.createElement("div",{className:"publish-timeline"},c?"edit"===c.status?r.a.createElement("div",null,r.a.createElement("h3",null,"This Timeline is currently Private"),r.a.createElement(w.a,{onClick:function(){return m("publish")},variant:"contained",color:"primary"},"Publish"),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"secondary"},r.a.createElement(q.a,null))):"done"===c.status?r.a.createElement("div",null,r.a.createElement("h3",null,"This Timeline is currently Public"),r.a.createElement(w.a,{onClick:function(){return m("unpublish")},variant:"contained",color:"primary"},"Un-Publish"),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"secondary"},r.a.createElement(q.a,null))):o?r.a.createElement("div",null,"Loading"):s?r.a.createElement("div",null,"Has Error"):null:null)},Z=a(90),$=a.n(Z),Q=a(91),ee=a.n(Q),te=a(92),ae=a.n(te);a(140);var ne=function(e){var t=e.handleCloseForm,a=e.timelineId,l=e.removeTimeline,i=Object(n.useState)(!1),c=Object(u.a)(i,2),o=c[0],s=c[1],m=Object(n.useState)(""),d=Object(u.a)(m,2),f=d[0],E=d[1],p=Object(n.useState)("type... 'Burn it'"),b=Object(u.a)(p,2);return b[0],b[1],r.a.createElement("div",{className:"delete-timeline"},o?r.a.createElement("div",{className:"confirmation"},r.a.createElement(_.a,{id:"standard-basic",value:f,label:"type... 'Burn it'",variant:"outlined",onChange:function(e){return E(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(w.a,{onClick:function(){"Burn it"===f?fetch(L+"/timelines/"+a,{method:"DELETE"}).then(l(a),t()):t()},variant:"contained",color:"secondary"},r.a.createElement($.a,null)),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"primary"},r.a.createElement(q.a,null))):r.a.createElement("div",null,r.a.createElement("div",{className:"text"},"Are you sure you want to delete this timeline?"),r.a.createElement("div",null,r.a.createElement(w.a,{onClick:function(){s(!0)},variant:"contained",color:"primary"},r.a.createElement(ee.a,null)),r.a.createElement(w.a,{onClick:t,variant:"contained",color:"secondary"},r.a.createElement(ae.a,null)))))},re=(a(141),a(66)),le=a.n(re),ie=a(67),ce=a.n(ie),oe=a(93),ue=a.n(oe),se=a(95),me=a.n(se),de=a(94),fe=a.n(de);var Ee=U((function(e){return!!e}))((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),p=E[0],b=E[1],h=Object(n.useState)(null),v=Object(u.a)(h,2),g=v[0],j=v[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),C=y[0],S=y[1],N=Object(n.useState)(null),k=Object(u.a)(N,2),T=k[0],x=k[1];Object(n.useEffect)((function(){return e.firebase.user(e.firebase.auth.W).once("value",(function(e){i(e.val())})),fetch(L+"user_timelines/"+e.firebase.auth.W).then((function(e){return e.json()})).then((function(e){return d(e)})),function(){e.firebase.user(e.firebase.auth.W).off()}}),[e.firebase]);var P=function(){b(!1)},I=function(e){d(m.map((function(t){return t.id===e.id?e:t})))};return r.a.createElement("div",{className:"profile-page"},m.message?r.a.createElement(J,null):m?r.a.createElement("div",{className:"timeline-info"},r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("div",null,"My Timelines "),r.a.createElement(c.b,{to:"/create"},r.a.createElement(ue.a,null))),p?r.a.createElement("div",{className:"edit-form"},r.a.createElement("div",null,"edit"===g?r.a.createElement(Y,{handleCloseForm:P,timelineId:C,timelineData:T,replaceTimelineData:I}):"publish"===g?r.a.createElement(X,{handleCloseForm:P,timelineId:C,replaceTimelineData:I}):r.a.createElement(ne,{handleCloseForm:P,timelineId:C,removeTimeline:function(e){d(m.filter((function(t){return t.id!==e})))}}))):null,r.a.createElement("div",{className:"timeline-container"},m?m.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(G,{data:e}),r.a.createElement("div",{className:"buttons"},r.a.createElement(w.a,{size:"small",className:"edit",variant:"contained",disabled:p,onClick:function(){!function(e,t){x(t),S(e),j("edit"),b(!0)}(e.id,e)}},r.a.createElement(le.a,null)),r.a.createElement(w.a,{size:"small",className:"edit",variant:"contained",color:"primary",disabled:p,onClick:function(){return t=e.id,S(t),j("publish"),void b(!0);var t}},"edit"===e.status?r.a.createElement(fe.a,null):r.a.createElement(me.a,null)),r.a.createElement(w.a,{size:"small",className:"edit",variant:"contained",color:"secondary",disabled:p,onClick:function(){return t=e.id,S(t),j("delete"),void b(!0);var t}},r.a.createElement(ce.a,null))))})):null))):r.a.createElement("div",null,"Loading"),r.a.createElement("div",{className:"user-info"},r.a.createElement("h2",null,"My Info"),r.a.createElement("div",null,"USERNAME: ",l.username),r.a.createElement("div",null,"EMAIL: ",l.email)))}));a(142);var pe=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){fetch(L+"timelines").then((function(e){return e.json()})).then((function(e){return l(e)}))}),[]),r.a.createElement("div",{className:"browse-timeliens-page"},r.a.createElement("div",{className:"all-timelines-container"},a?a.map((function(e,t){return r.a.createElement(G,{data:e,key:t})})):null))},be=a(106),he=a(20);var ve=function(e){var t=e.response;return r.a.createElement("div",null,r.a.createElement("h1",null,t?t.status:null," ERROR"),r.a.createElement(c.b,{to:"/"},"Home"))},ge=a(188),je=a(97),Oe=a.n(je),ye=a(96),Ce=a.n(ye);a(143);var Se=function(e){var t=e.maker_id,a=e.firebase_id,l=e.events,i=e.eventDataSet,c=e.eventData,o=e.timelineId,s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),h=b[0],v=b[1],g=Object(n.useState)(""),j=Object(u.a)(g,2),O=j[0],y=j[1],C=Object(n.useState)("Scale"),S=Object(u.a)(C,2),N=S[0],k=S[1],T=Object(n.useState)("Type"),x=Object(u.a)(T,2),P=x[0],I=x[1],D=Object(n.useState)("00-00-0000"),A=Object(u.a)(D,2),U=A[0],M=A[1],R=Object(n.useState)(""),W=Object(u.a)(R,2),F=W[0],z=W[1],J=Object(n.useState)(""),G=Object(u.a)(J,2),Y=G[0],K=G[1],V=Object(n.useState)(""),q=Object(u.a)(V,2),X=q[0],Z=q[1],$=function(){return f(!1),v(""),y(""),k("Scale"),I("Type"),M("00-00-0000"),z(""),K(""),Z("")};return t!==a?r.a.createElement("div",null):d?r.a.createElement("div",{className:"add-event-page"},r.a.createElement(w.a,{color:"primary",onClick:function(){f(!1)}},r.a.createElement(Ce.a,null)),r.a.createElement("div",{className:"add-event-form"},r.a.createElement(B.a,null,r.a.createElement("div",null,"Add an Event"),r.a.createElement(_.a,{label:"Title",name:"snippet",variant:"outlined",value:h,onChange:function(e){v(e.target.value)}}),r.a.createElement("div",{className:"type"},r.a.createElement(B.a,null,r.a.createElement(ge.a,{label:"Scale",value:N,onChange:function(e){return k(e.target.value)}},r.a.createElement(p.a,{"aria-label":"None",disabled:!0,value:"Scale"},"Scale"),r.a.createElement(p.a,{value:"Major"},"Major"),r.a.createElement(p.a,{value:"Minor"},"Minor"))),r.a.createElement(B.a,null,r.a.createElement(ge.a,{label:"Type",value:P,onChange:function(e){return I(e.target.value)}},r.a.createElement(p.a,{"aria-label":"None",disabled:!0,value:"Type"},"Type"),r.a.createElement(p.a,{value:"Personal"},"Personal"),r.a.createElement(p.a,{value:"World"},"World"),r.a.createElement(p.a,{value:"Country"},"Country"),r.a.createElement(p.a,{value:"Region"},"Region"))),r.a.createElement(_.a,{id:"date",type:"date",value:U,onChange:function(e){M(e.target.value)}})),r.a.createElement(H,{handleCountry:z,handleRegion:K,country:F,region:Y,specs:P}),r.a.createElement(_.a,{className:"details",label:"Details",name:"details",variant:"outlined",multiline:!0,rows:4,value:O,onChange:function(e){y(e.target.value)}}),r.a.createElement(_.a,{label:"picture location URL (optional)",id:"picLink",type:"link",value:X,onChange:function(e){Z(e.target.value)}}),r.a.createElement(w.a,{onClick:function(){var e={firebase_id:a,snippet:h,details:O,scale:N,type:P,country:F,region:Y,date:U,imageUrl:X,timeline_id:o};fetch(L+"events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return i(c.concat(e))}),$())},disabled:!h||"Scale"===N||"Type"===P||!O||"00-00-0000"===U},"Add")))):r.a.createElement("div",{className:"add-event-page"},r.a.createElement(w.a,{color:"primary",onClick:function(){f(!0),c||i(l)}},r.a.createElement(Oe.a,null)))};a(144);var Ne=function(e){var t=e.event_data,a=(e.firebase_id,e.updateEventData),l=e.showEditBoxSet,i=(e.showDetailBoxSet,t.date),c=t.details,o=t.imageText,s=t.imageUrl,m=(t.scale,t.snippet),d=(t.user_id,Object(n.useState)(c)),f=Object(u.a)(d,2),E=f[0],p=f[1],b=Object(n.useState)(m),h=Object(u.a)(b,2),v=h[0],g=h[1],j=Object(n.useState)(s),O=Object(u.a)(j,2),y=O[0],C=O[1],S=Object(n.useState)(o),N=Object(u.a)(S,2),k=N[0],T=N[1],x=Object(n.useState)(i),P=Object(u.a)(x,2),I=P[0],D=P[1];return r.a.createElement("div",{className:"edit-event"},r.a.createElement(B.a,{className:"form"},r.a.createElement("h4",null,"Edit Event"),r.a.createElement(_.a,{label:"Snippet",name:"snippet",variant:"outlined",className:"input",value:v,onChange:function(e){g(e.target.value)}}),r.a.createElement(_.a,{label:"Details",name:"details",variant:"outlined",multiline:!0,className:"input",value:E,onChange:function(e){p(e.target.value)}}),r.a.createElement(_.a,{label:"Image URL",name:"imageUrl",variant:"outlined",className:"input",value:y,onChange:function(e){C(e.target.value)}}),r.a.createElement(_.a,{label:"Image Text",name:"imageText",variant:"outlined",className:"input",value:k||"",onChange:function(e){T(e.target.value)}}),r.a.createElement(_.a,{label:"Date",name:"date",type:"date",variant:"outlined",className:"date",value:I,onChange:function(e){D(e.target.value)}}),r.a.createElement("div",{className:"buttons"},r.a.createElement(w.a,{variant:"contained",className:"submit",color:"primary",onClick:function(){var e={details:E,snippet:v,imageUrl:y,imageText:k,date:I};fetch(L+"events/"+t.id,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return a(e)}),l(!1))}},"Submit"),r.a.createElement(w.a,{variant:"contained",className:"submit",color:"secondary",onClick:function(){return l(!1)}},r.a.createElement(q.a,null)))))},we=a(192),ke=(a(145),a(98)),Te=a.n(ke),xe=a(101),Pe=a.n(xe),Ie=a(100),De=a.n(Ie),Ae=a(99),Ue=a.n(Ae),Me=a(102),Re=a.n(Me),We=a(103),Le=a.n(We),Be=Object(s.a)((function(e){return{margin:{margin:e.spacing(.5)}}}));var _e=U((function(e){return!!e}))((function(e){var t,a=new Date,l=Object(o.f)(),i=K(L+"timelines/"+e.match.params.id),c=Object(u.a)(i,3),s=c[0],m=c[1],d=c[2],f=Object(n.useState)([]),E=Object(u.a)(f,2),p=E[0],b=E[1],h=Object(n.useState)([0,null]),v=Object(u.a)(h,2),g=v[0],j=v[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),C=y[0],S=y[1],N=Object(n.useState)(null),k=Object(u.a)(N,2),T=k[0],x=k[1],P=Object(n.useState)(!1),I=Object(u.a)(P,2),D=I[0],A=I[1],U=Object(n.useState)(!1),M=Object(u.a)(U,2),R=M[0],W=M[1],B=Object(n.useState)(!1),_=Object(u.a)(B,2),F=_[0],H=_[1],z=Object(n.useState)(!1),J=Object(u.a)(z,2),G=J[0],Y=J[1],V=Be(),q=Object(n.useRef)();if(function(e,t){var a=Object(n.useState)({width:0,height:0}),r=Object(u.a)(a,2),l=r[0],i=r[1];return Object(n.useEffect)((function(){var t=function(){return{width:e.current.offsetWidth,height:e.current.offsetHeight}},a=function(){i(t())};return e.current&&i(t()),window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[e,t]),l}(q,m).width,m)return r.a.createElement("div",{ref:q},"Loading");if(d)return r.a.createElement("div",{ref:q},"Has Error");if(!1!==s&&null!==s&&404!==s.status){var X=s.title,Z=(s.picture,s.person),$=s.events,Q=s.user,ee=(s.status,s.id),te=(s.person_id,s.user_id,Q.username),ae=Z.birthday,ne=Z.deathday,re=function(e){var t=e.currentTarget.name;"Major"===t&&p.includes("Minor")?b(p.filter((function(e){return"Minor"!==e})).concat(t)):"Minor"===t&&p.includes("Major")?b(p.filter((function(e){return"Major"!==e})).concat(t)):p.includes(t)?b(p.filter((function(e){return e!==t}))):b(p.concat(t))},ie=function(e){return e.split("-")[0]},oe=function(e){return ie(e.date)-ie(ae)},ue=function(){return ie(ne)-ie(ae)},se=function(){return a.getFullYear()-ie(ae)},me=function(){for(var e="",t=(e=g[1]?g[1]-g[0]:ne?ue()-g[0]:se()-g[0])/10,a=[],n=1;n<10;n++)a.push(t*n);g[1],g[0];var r=a.map((function(e){return Math.floor(e+parseInt(ie(ae))+g[0]).toString()})),l=Object(be.a)(new Set(r));return e>=10||l.shift(),l},de=function(e){fetch(L+"ets/"+ee,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e})}).then((function(e){return e.json()})).then((function(t){return a=e,void S(C?C.filter((function(e){return e.id!==a})):$.filter((function(e){return e.id!==a})));var a}),A(!1))};return r.a.createElement("div",{className:"timeline-component",ref:q},r.a.createElement("div",{className:"header"},r.a.createElement(w.a,{color:"primary",onClick:function(){return l.goBack()}},r.a.createElement(Te.a,null)),r.a.createElement("h2",{className:"title"},X),r.a.createElement("div",{className:"header-item"},r.a.createElement(Se,{maker_id:Q.firebase_id,firebase_id:e.firebase.auth.W,events:$,eventData:C,eventDataSet:S,timelineId:ee}),r.a.createElement("div",{className:"author"},"Made by: ",te))),r.a.createElement("div",{className:"filters"},[{name:"Major",color:"secondary"},{name:"Minor",color:"secondary"},{name:"Personal",color:"primary"},{name:"World",color:"primary"},{name:"Country",color:"primary"},{name:"City",color:"primary"}].map((function(e,t){return r.a.createElement(w.a,{className:"".concat(e.name," ").concat(V.margin),name:e.name,color:e.color,size:"small",variant:p.includes(e.name)?"outlined":"contained",onClick:re,key:t},e.name)})),r.a.createElement(we.a,{defaultValue:[0,ne?ue():se()],value:g[1]?g:ne?[0,ue()]:[0,se()],onChange:function(e,t){t[1]-t[0]>=1&&t!==g&&j(t)},"aria-labelledby":"range-slider",step:1,min:0,max:ne?ue():se(),valueLabelDisplay:"auto"})),D?r.a.createElement("div",{className:"description-box"},r.a.createElement("div",{className:"header"},r.a.createElement(w.a,{onClick:function(){Y(!G)}},G?r.a.createElement(Ue.a,null):r.a.createElement(De.a,null)),r.a.createElement("h3",null,T.snippet),r.a.createElement(w.a,null,r.a.createElement(Pe.a,{onClick:function(){A(!1),Y(!1)}}))),r.a.createElement("div",{className:"text"},T.details),T.imageUrl?r.a.createElement("div",null,r.a.createElement("img",{className:"detail-image",src:T.imageUrl,alt:T.imageText?T.imageText:""}),T.imageText?r.a.createElement("p",{className:"image-details"},T.imageText):null):null,R?r.a.createElement(Ne,{event_data:T,firebase_id:e.firebase.auth.W,updateEventData:function(e){S(C?C.map((function(t){return t.id===e.id?e:t})):$.map((function(t){return t.id===e.id?e:t}))),x(e)},showEditBoxSet:W,showDetailBoxSet:A}):null,e.firebase.auth.W===Q.firebase_id?r.a.createElement("div",{className:"edit-button"},r.a.createElement(w.a,{onClick:function(){W(!0)}},r.a.createElement(le.a,null)),r.a.createElement(w.a,{onClick:function(){return H(!0)}},r.a.createElement(ce.a,null)),F?r.a.createElement("div",null,r.a.createElement("div",null,"Are you Sure?"),r.a.createElement(w.a,{onClick:function(){de(T.id),H(!1)}},r.a.createElement(Re.a,null)),r.a.createElement(w.a,{onClick:function(){H(!1)}},r.a.createElement(Le.a,null))):null):null,r.a.createElement("div",{className:"date"},T.date)):null,r.a.createElement("div",{className:"timeline-box"},r.a.createElement("div",{className:"birth year"},parseInt(ie(ae))+g[0]),r.a.createElement("div",{className:"events"},r.a.createElement("div",{className:"timeline-line"},me()?me().map((function(e,t){return r.a.createElement("div",{className:"timeline-markers",key:t},"".concat(e))})):r.a.createElement("div",{className:"timeline-markers"},"Halfway")),r.a.createElement("div",{className:"event-container"},function(e){return g[1]?e.filter((function(e){return oe(e)>=g[0]&&oe(e)<=g[1]})):e}(function(e){for(var t=e,a=function(e){t=t.filter((function(t){return![t.instance_type,t.scale].includes(p[e])}))},n=0;n<p.length;n++)a(n);return t}((t=C||$,t.sort((function(e,t){return ie(e.date)>ie(t.date)})).map((function(e,t){return Object(he.a)(Object(he.a)({},e),{},{sortedOrder:t})}))))).map((function(e,t){})))),r.a.createElement("div",{className:"death year"},parseInt(ie(ae))+(g[1]?g[1]:ne?ue():se()))))}return r.a.createElement(ve,{response:s})})),Fe=a(32),He=(a(146),{username:"",email:"",passwordOne:"",passwordTwo:"",firebaseID:"",error:null}),ze=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.username,r=t.email,l=t.passwordOne;n.props.firebase.doCreateUserWithEmailAndPassword(r,l).then((function(e){return n.props.firebase.user(e.user.uid).set({username:a,email:r})})).then((function(){n.setState(Object(he.a)({},He)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Fe.a)({},e.target.name,e.target.value))},n.state=Object(he.a)({},He),n}return Object(x.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,i=e.error,c=n!==l||""===n||""===a||""===t;return r.a.createElement("div",{className:"signuppage"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"signup"},r.a.createElement(_.a,{className:"textinput",id:"standard-basic",label:"Username",name:"username",value:t,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(_.a,{className:"textinput",id:"standard-basic",label:"Email",name:"email",value:a,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(_.a,{className:"textinput",id:"standard-basic",label:"Password",name:"passwordOne",value:n,onChange:this.onChange,type:"password"}),r.a.createElement("br",null),r.a.createElement(_.a,{className:"textinput",id:"standard-basic",label:"Confirm Password",name:"passwordTwo",value:l,onChange:this.onChange,type:"password"}),r.a.createElement("br",null),r.a.createElement(w.a,{type:"submit",disabled:c},"Sign Up"),i&&r.a.createElement("p",null,i.message)))}}]),a}(n.Component),Je=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(c.b,{to:"/signup"},"Sign Up"))},Ge=Object(A.a)(o.g,g)(ze),Ye=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Sign Up Form"),r.a.createElement(Ge,null))},Ke={email:"",error:null},Ve=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then((function(){n.setState(Object(he.a)({},Ke))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Fe.a)({},e.target.name,e.target.value))},n.state=Object(he.a)({},Ke),n}return Object(x.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),a}(n.Component),qe=function(){return r.a.createElement("p",null,r.a.createElement(c.b,{to:"/pw-forget"},"Forgot Password?"))},Xe=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(Ze,null))},Ze=g(Ve),$e=(a(147),{email:"",password:"",error:null}),Qe=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then((function(){n.setState(Object(he.a)({},$e)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Fe.a)({},e.target.name,e.target.value))},n.guestSignIn=function(e){n.props.firebase.doSignInWithEmailAndPassword("guest@gmail.com","123456").then((function(){n.setState(Object(he.a)({},$e)),n.props.history.push("/")})).catch((function(e){n.setState({error:e})}))},n.state=Object(he.a)({},$e),n}return Object(x.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement("div",{className:"signinpage"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"signin"},r.a.createElement(_.a,{className:"textinput",id:"standard-basic",label:"Email",name:"email",value:t,onChange:this.onChange}),r.a.createElement("br",null),r.a.createElement(_.a,{className:"textinput",id:"standard-basic",label:"Password",name:"password",value:a,onChange:this.onChange,type:"password"}),r.a.createElement("br",null),r.a.createElement("div",{className:"buttons"},r.a.createElement(w.a,{type:"submit",disabled:l},"Sign In"),r.a.createElement(w.a,{onClick:this.guestSignIn},"Guest Login")),n?r.a.createElement("p",null,n.message):null),r.a.createElement("div",{className:"xtralinks"},r.a.createElement("br",null),r.a.createElement(qe,null),r.a.createElement("br",null),r.a.createElement(Je,null)))}}]),a}(r.a.Component),et=Object(A.a)(o.g,g)(Qe),tt=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Sign In Form"),r.a.createElement(et,null))},at={passwordOne:"",passwordTwo:"",error:null},nt=function(e){Object(P.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.passwordOne;n.props.firebase.doPasswordUpdate(t).then((function(){n.setState(Object(he.a)({},at))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(Fe.a)({},e.target.name,e.target.value))},n.state=Object(he.a)({},at),n}return Object(x.a)(a,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),rt=g(nt),lt=U((function(e){return!!e}))((function(e){return console.log(e.firebase.W),r.a.createElement(T.Consumer,null,(function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: ",e.email),r.a.createElement(Ze,null),r.a.createElement(rt,null))}))})),it=D((function(){return r.a.createElement("div",null,r.a.createElement(o.a,{exact:!0,path:"/signup",component:Ye}),r.a.createElement(o.a,{exact:!0,path:"/signin",component:tt}),r.a.createElement(o.a,{exact:!0,path:"/pw-forget",component:Xe}),r.a.createElement(o.a,{exact:!0,path:"/account",component:lt}))}));a(148);var ct=D((function(e){return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(R,null)),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:W}),r.a.createElement(o.a,{exact:!0,path:"/timelines",component:pe}),r.a.createElement(o.a,{exact:!0,path:"/profile",component:Ee}),r.a.createElement(o.a,{path:"/timeline/:id",component:_e}),r.a.createElement(o.a,{exact:!0,path:"/create",component:J}),r.a.createElement(it,null)))})),ot=a(68),ut=Object(ot.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),st=ut.actions,mt=(st.increment,st.decrement,st.incrementByAmount,ut.reducer),dt=Object(ot.a)({reducer:{counter:mt}}),ft=a(104);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j.Provider,{value:new N},r.a.createElement(ft.a,{store:dt},r.a.createElement(ct,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[116,1,2]]]);
//# sourceMappingURL=main.49506f35.chunk.js.map